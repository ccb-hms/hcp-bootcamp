<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>HCP Intro to R Bootcamp - Summarizing and Visualizing data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.29/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="../site_libs/tabwid-1.1.3/tabwid.js"></script>
<script src="../site_libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">HCP Intro to R Bootcamp</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../notebooks/sessions.html" rel="" target="" aria-current="page">
 <span class="menu-text">Session Materials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resources/resources.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notebooks/session2.html">Summarizing and Visualizing data</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/sessions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sessions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/session1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Basics and Reproducibility Tools</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/session2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Summarizing and Visualizing data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/session3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling and Testing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/session4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data wrangling I</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/session5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Wrangling II and Other Analysis Skills</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#dataframes" id="toc-dataframes" class="nav-link active" data-scroll-target="#dataframes">Dataframes</a></li>
  <li><a href="#inspecting-data.frame-objects" id="toc-inspecting-data.frame-objects" class="nav-link" data-scroll-target="#inspecting-data.frame-objects">Inspecting <code>data.frame</code> Objects</a></li>
  <li><a href="#loading-data-with-tidyverse" id="toc-loading-data-with-tidyverse" class="nav-link" data-scroll-target="#loading-data-with-tidyverse">Loading data with tidyverse</a></li>
  <li><a href="#selecting-columns-and-filtering-rows" id="toc-selecting-columns-and-filtering-rows" class="nav-link" data-scroll-target="#selecting-columns-and-filtering-rows">Selecting columns and filtering rows</a></li>
  <li><a href="#pipes" id="toc-pipes" class="nav-link" data-scroll-target="#pipes">Pipes</a></li>
  <li><a href="#summarizing-data-in-tables" id="toc-summarizing-data-in-tables" class="nav-link" data-scroll-target="#summarizing-data-in-tables">Summarizing Data in Tables</a></li>
  <li><a href="#visualizing-data" id="toc-visualizing-data" class="nav-link" data-scroll-target="#visualizing-data">Visualizing Data</a>
  <ul class="collapse">
  <li><a href="#first-steps-with-ggplot2" id="toc-first-steps-with-ggplot2" class="nav-link" data-scroll-target="#first-steps-with-ggplot2">First steps with ggplot2</a></li>
  <li><a href="#mapping-variables" id="toc-mapping-variables" class="nav-link" data-scroll-target="#mapping-variables">Mapping Variables</a></li>
  <li><a href="#customizing-plots" id="toc-customizing-plots" class="nav-link" data-scroll-target="#customizing-plots">Customizing Plots</a></li>
  <li><a href="#interactive-plots-and-widgets" id="toc-interactive-plots-and-widgets" class="nav-link" data-scroll-target="#interactive-plots-and-widgets">Interactive plots and widgets</a></li>
  <li><a href="#creating-maps-and-using-shape-files" id="toc-creating-maps-and-using-shape-files" class="nav-link" data-scroll-target="#creating-maps-and-using-shape-files">Creating maps and using shape files</a></li>
  <li><a href="#exporting-plots" id="toc-exporting-plots" class="nav-link" data-scroll-target="#exporting-plots">Exporting plots</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Summarizing and Visualizing data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="dataframes" class="level2">
<h2 data-anchor-id="dataframes">Dataframes</h2>
<p>We will begin with a mostly processed dataset from NHANES designed to examine the relationship between diabetes and dental caries in adolescents. Specifically, this dataset contains the 3346 adolescents recorded in NHANES from 2005 to 2010 with non-missing dental decay data.</p>
<p>We can load the data into R as a dataframe using the <code>read.csv</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.3     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>nhanes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../data/nhanes_diabetes.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This statement doesn’t produce any output because, as you might recall, assignments don’t display anything. If we want to check that our data has been loaded, we can see the contents of the data frame by typing its name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(nhanes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  X  SEQN RIDAGEYR RIAGENDR           RIDRETH1                       DMDBORN
1 1 31127        0     Male Non-Hispanic White Born in 50 US States or Washi
2 2 31128       11   Female Non-Hispanic Black Born in 50 US States or Washi
3 3 31129       15     Male Non-Hispanic Black Born in 50 US States or Washi
4 4 31130       85   Female Non-Hispanic White Born in 50 US States or Washi
5 5 31131       44   Female Non-Hispanic Black Born in 50 US States or Washi
6 6 31132       70     Male Non-Hispanic White Born in 50 US States or Washi
  INDFMPIR SDMVPSU SDMVSTRA  WTINT2YR  WTMEC2YR OHXDECAY OHXREST LBXGLU
1     0.75       2       44  6434.950  6571.396       NA      NA     NA
2     0.77       1       52  9081.701  8987.042     TRUE   FALSE     NA
3     2.71       1       51  5316.895  5586.719    FALSE   FALSE     NA
4     1.99       2       46 29960.840 34030.995     TRUE    TRUE     NA
5     4.65       1       48 26457.708 26770.585    FALSE    TRUE     90
6     5.00       2       52 32961.510 35315.539    FALSE    TRUE    157
  WTSAF2YR LBXGH BMXBMI Begin.Year EndYear age.cat        LBXGH.cat
1       NA    NA     NA       2005    2006    &lt;NA&gt;             &lt;NA&gt;
2       NA    NA  17.45       2005    2006    &lt;NA&gt;             &lt;NA&gt;
3       NA   5.2  26.53       2005    2006   13-15            &lt;5.7%
4     0.00    NA     NA       2005    2006     19+             &lt;NA&gt;
5 67556.81   6.0  30.90       2005    2006     19+ &gt;=5.7% and &lt;6.5%
6 80193.96   7.1  24.74       2005    2006     19+ &gt;=5.7% and &lt;6.5%
  RIDAGEYR.cat  LBXGLU.cat BMXBMI.cat INDFMPIR.cat   DMDBORN.cat dental.caries
1         &lt;NA&gt;        &lt;NA&gt;       &lt;NA&gt;           &lt;1 Within the US            NA
2         &lt;NA&gt;        &lt;NA&gt;     Normal           &lt;1 Within the US          TRUE
3        13-15        &lt;NA&gt; Overweight          &gt;=1 Within the US         FALSE
4         &lt;NA&gt;        &lt;NA&gt;       &lt;NA&gt;          &gt;=1 Within the US          TRUE
5         &lt;NA&gt;  &lt;100 mg/dl      Obese          &gt;=1 Within the US          TRUE
6         &lt;NA&gt; &gt;=126 mg/dl     Normal          &gt;=1 Within the US          TRUE
     diabetes
1        &lt;NA&gt;
2        &lt;NA&gt;
3 nondiabetic
4        &lt;NA&gt;
5 prediabetic
6    diabetic</code></pre>
</div>
</div>
<p>Data frames are the <em>de facto</em> data structure for most tabular data, and what we use for statistics and plotting.</p>
<p>A data frame can be created by hand, but most commonly they are generated by the functions <code>read.csv()</code> or <code>read.table()</code>; in other words, when importing spreadsheets from your hard drive (or the web).</p>
<p>A data frame is the representation of data in the format of a table where the columns are vectors that all have the same length. Because columns are vectors, each column must contain a single type of data (e.g., characters, integers, factors).</p>
<p>We can get an overview with <code>summary</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(nhanes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       X              SEQN          RIDAGEYR       RIAGENDR        
 Min.   :    1   Min.   :31127   Min.   : 0.00   Length:31034      
 1st Qu.: 7759   1st Qu.:38885   1st Qu.: 9.00   Class :character  
 Median :15518   Median :46644   Median :25.00   Mode  :character  
 Mean   :15518   Mean   :46644   Mean   :31.18                     
 3rd Qu.:23276   3rd Qu.:54402   3rd Qu.:51.00                     
 Max.   :31034   Max.   :62160   Max.   :85.00                     
                                                                   
   RIDRETH1           DMDBORN             INDFMPIR        SDMVPSU     
 Length:31034       Length:31034       Min.   :0.000   Min.   :1.000  
 Class :character   Class :character   1st Qu.:0.960   1st Qu.:1.000  
 Mode  :character   Mode  :character   Median :1.820   Median :2.000  
                                       Mean   :2.295   Mean   :1.522  
                                       3rd Qu.:3.598   3rd Qu.:2.000  
                                       Max.   :5.000   Max.   :3.000  
                                       NA's   :2424                   
    SDMVSTRA        WTINT2YR         WTMEC2YR       OHXDECAY      
 Min.   :44.00   Min.   :  1225   Min.   :     0   Mode :logical  
 1st Qu.:55.00   1st Qu.: 10194   1st Qu.:  9954   FALSE:14316    
 Median :65.00   Median : 19871   Median : 19584   TRUE :4079     
 Mean   :66.04   Mean   : 28701   Mean   : 28701   NA's :12639    
 3rd Qu.:78.00   3rd Qu.: 36751   3rd Qu.: 37143                  
 Max.   :89.00   Max.   :186296   Max.   :192771                  
                                                                  
  OHXREST            LBXGLU         WTSAF2YR          LBXGH       
 Mode :logical   Min.   : 36.0   Min.   :     0   Min.   : 2.000  
 FALSE:7590      1st Qu.: 91.0   1st Qu.: 21695   1st Qu.: 5.100  
 TRUE :10805     Median : 98.0   Median : 51495   Median : 5.400  
 NA's :12639     Mean   :105.4   Mean   : 72640   Mean   : 5.587  
                 3rd Qu.:107.0   3rd Qu.: 98156   3rd Qu.: 5.700  
                 Max.   :584.0   Max.   :404656   Max.   :16.400  
                 NA's   :21410   NA's   :20786    NA's   :11184   
     BMXBMI         Begin.Year      EndYear       age.cat         
 Min.   : 11.74   Min.   :2005   Min.   :2006   Length:31034      
 1st Qu.: 19.76   1st Qu.:2005   1st Qu.:2006   Class :character  
 Median : 24.94   Median :2007   Median :2008   Mode  :character  
 Mean   : 25.58   Mean   :2007   Mean   :2008                     
 3rd Qu.: 30.01   3rd Qu.:2009   3rd Qu.:2010                     
 Max.   :130.21   Max.   :2009   Max.   :2010                     
 NA's   :3812                                                     
  LBXGH.cat         RIDAGEYR.cat        LBXGLU.cat         BMXBMI.cat       
 Length:31034       Length:31034       Length:31034       Length:31034      
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            
 INDFMPIR.cat       DMDBORN.cat        dental.caries     diabetes        
 Length:31034       Length:31034       Mode :logical   Length:31034      
 Class :character   Class :character   FALSE:5820      Class :character  
 Mode  :character   Mode  :character   TRUE :12575     Mode  :character  
                                       NA's :12639                       
                                                                         
                                                                         
                                                                         </code></pre>
</div>
</div>
</section>
<section id="inspecting-data.frame-objects" class="level2">
<h2 data-anchor-id="inspecting-data.frame-objects">Inspecting <code>data.frame</code> Objects</h2>
<p>We already saw how the functions <code>head()</code> and <code>str()</code> can be useful to check the content and the structure of a data frame. Here is a non-exhaustive list of functions to get a sense of the content/structure of the data. Let’s try them out!</p>
<p><strong>Size</strong>:</p>
<ul>
<li><code>dim(nhanes)</code> - returns a vector with the number of rows as the first element, and the number of columns as the second element (the <strong>dim</strong>ensions of the object).</li>
<li><code>nrow(nhanes)</code> - returns the number of rows.</li>
<li><code>ncol(nhanes)</code> - returns the number of columns.</li>
</ul>
<p><strong>Content</strong>:</p>
<ul>
<li><code>head(nhanes)</code> - shows the first 6 rows.</li>
<li><code>tail(nhanes)</code> - shows the last 6 rows.</li>
</ul>
<p><strong>Names</strong>:</p>
<ul>
<li><code>names(nhanes)</code> - returns the column names (synonym of <code>colnames()</code> for <code>data.frame</code> objects).</li>
<li><code>rownames(nhanes)</code> - returns the row names.</li>
</ul>
<p><strong>Summary</strong>:</p>
<ul>
<li><code>str(nhanes)</code> - structure of the object and information about the class, length and content of each column.</li>
<li><code>summary(nhanes)</code> - summary statistics for each column.</li>
</ul>
<p>Note: most of these functions are “generic”, they can be used on other types of objects besides <code>data.frame</code>.</p>
</section>
<section id="loading-data-with-tidyverse" class="level2">
<h2 data-anchor-id="loading-data-with-tidyverse">Loading data with tidyverse</h2>
<p>You can find a <a href="https://rstudio.github.io/cheatsheets/data-transformation.pdf">data transformation cheatsheet here</a>.</p>
<p>Instead of <code>read.csv()</code>, we will read in our data using the <code>read_csv()</code> function (notice the <code>_</code> instead of the <code>.</code>), from the tidyverse package <strong><code>readr</code></strong>.</p>
<p>Let’s also load in the metadata for this dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>nhanes <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../data/nhanes_diabetes.csv"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>nhanes_metadata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../data/nhanes_diabetes_metadata.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">## view the data</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(nhanes, <span class="dv">100</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-626bbf7923bde67ddba6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-626bbf7923bde67ddba6">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],[31127,31128,31129,31130,31131,31132,31133,31134,31135,31136,31137,31138,31139,31140,31141,31142,31143,31144,31145,31146,31147,31148,31149,31150,31151,31152,31153,31154,31155,31156,31157,31158,31159,31160,31161,31162,31163,31164,31165,31166,31167,31168,31169,31170,31171,31172,31173,31174,31175,31176,31177,31178,31179,31180,31181,31182,31183,31184,31185,31186,31187,31188,31189,31190,31191,31192,31193,31194,31195,31196,31197,31198,31199,31200,31201,31202,31203,31204,31205,31206,31207,31208,31209,31210,31211,31212,31213,31214,31215,31216,31217,31218,31219,31220,31221,31222,31223,31224,31225,31226],[0,11,15,85,44,70,16,73,0,41,14,3,18,11,16,7,19,21,10,8,7,16,85,79,59,27,44,62,38,43,11,71,9,39,10,71,17,54,1,15,37,0,3,14,12,20,6,6,75,3,18,14,71,12,16,2,33,0,1,46,22,5,9,72,22,60,51,47,73,12,0,0,25,1,17,1,33,15,43,17,20,47,2,33,17,23,53,46,12,0,1,14,9,50,54,4,61,9,14,17],["Male","Female","Male","Female","Female","Male","Female","Male","Male","Female","Female","Male","Female","Female","Male","Male","Male","Male","Female","Female","Female","Female","Female","Male","Female","Female","Female","Male","Male","Female","Female","Male","Male","Female","Female","Female","Male","Male","Male","Male","Male","Male","Female","Male","Female","Female","Male","Female","Male","Female","Female","Female","Male","Female","Male","Female","Female","Male","Male","Female","Female","Female","Female","Male","Female","Female","Male","Female","Male","Female","Male","Male","Female","Female","Male","Male","Female","Female","Female","Female","Female","Female","Female","Male","Female","Female","Female","Female","Female","Male","Female","Female","Male","Male","Female","Male","Male","Male","Female","Female"],["Non-Hispanic White","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Other Race - Including Multi-R","Non-Hispanic Black","Non-Hispanic Black","Mexican American","Other Hispanic","Non-Hispanic White","Mexican American","Mexican American","Non-Hispanic White","Other Hispanic","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Mexican American","Other Race - Including Multi-R","Non-Hispanic Black","Other Race - Including Multi-R","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Other Race - Including Multi-R","Non-Hispanic Black","Non-Hispanic White","Mexican American","Mexican American","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic Black","Other Race - Including Multi-R","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Mexican American","Non-Hispanic White","Mexican American","Other Race - Including Multi-R","Non-Hispanic Black","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic White","Mexican American","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Mexican American","Mexican American","Other Race - Including Multi-R","Non-Hispanic White","Other Hispanic"],["Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born Elsewhere","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere"],[0.75,0.77,2.71,1.99,4.65,5,5,null,5,3.57,0.1,2.13,4.91,5,5,0.51,5,0.46,3.32,2.63,0.78,1.06,0.05,1.22,3.03,1.76,1.03,1.56,3.5,1.19,0.99,3.71,0.63,1.91,2.9,2.5,2.23,5,2.8,0.75,4.16,null,2.05,3,1.31,0.7,0.72,1.05,3.92,0.41,1.12,4.07,0.44,1.33,2.41,0.66,3.9,0.41,0.25,1.68,4.29,0.49,2.58,null,0.88,4.49,1.01,1.02,5,1.86,0.74,1.71,1,5,0.15,1.51,0.99,1.14,5,1.03,0.1,5,0.42,1.04,5,0.48,1.05,0.77,1.92,3.1,0.67,1.81,2.14,5,5,0.82,1.68,5,2.49,null],[2,1,1,2,1,2,1,2,2,2,2,2,1,1,2,2,1,1,1,1,1,1,2,2,2,1,2,1,2,2,1,2,1,1,1,2,1,1,1,1,1,2,1,2,1,2,2,2,2,1,2,1,1,1,2,1,1,1,1,1,2,2,1,2,1,1,1,2,2,1,1,2,1,1,2,2,2,2,1,2,1,1,2,1,2,2,1,1,2,1,1,2,2,1,2,2,2,2,1,1],[44,52,51,46,48,52,51,48,52,51,51,57,44,50,48,54,44,45,44,44,44,50,52,44,53,57,54,45,48,51,55,50,44,46,49,47,56,53,54,55,44,46,49,46,51,51,49,57,45,50,49,57,54,48,45,57,47,50,46,54,54,45,56,44,56,44,49,53,48,51,48,50,46,55,52,46,57,45,57,54,49,55,47,57,47,57,52,48,49,49,44,58,50,50,49,45,58,55,57,52],[6434.950248,9081.700761,5316.895215,29960.839509,26457.70818,32961.50992,5635.221296,43718.506372,15711.544398,26487.611553,5576.468045,8753.180369,5675.705534,48812.354454,6332.25906,8284.087114,30620.447953,46374.162387,32403.115538,35835.450511,9352.936812,20535.845742,23813.234506,15391.933002,32632.519543,21843.432299,41246.554983,9263.820576,75218.78564099999,22787.015345,7872.92021,40704.463599,8615.176733,101878.330771,43534.36192,62389.493966,6425.284864,88953.828217,5966.405095,30180.119427,60628.206361,17662.607887,8045.839357,34799.953041,4951.476272,5540.109098,9406.394404000001,8401.282739,7720.319907,17587.719148,8767.094177000001,6189.554363,42440.144274,23989.049702,4398.21681,5862.679039,91953.092984,8011.233699,12078.040164,19238.363275,66674.297133,5381.55832,13399.023449,40704.463599,21509.385526,53648.098507,39075.469976,20581.040222,43718.506372,6081.271402,4610.164412,15151.220918,75121.309626,31577.38149,5431.789508,29456.006442,2047.984955,17643.592857,23957.751716,36248.738301,33020.555943,90455.73052899999,5820.551456,49854.459653,42490.838622,25713.775419,27793.827721,85351.401638,4476.427647,7283.71027,4904.894337,8094.567158,9913.654732999999,93367.846509,95070.184312,4896.873078,4329.095591,68825.821748,50250.117529,33500.38799],[6571.396373,8987.041810000001,5586.719481,34030.994786,26770.584605,35315.5389,5920.617679,44231.167252,16143.815753,0,5576.19478,9174.269883000001,5963.152246,50545.300444,6410.894644,8589.8292,31197.601782,49416.755687,33319.745259,37107.687857,9758.670975000001,25791.664585,25998.279203,15572.425031,32058.654021,22237.017339,42554.639187,9489.676959,77639.452106,22386.289853,8080.471011,43600.326104,9178.42467,104038.304825,43684.757525,66398.88783000001,6425.602062,91399.184972,6253.431126,30748.973661,62579.323555,18037.124286,8532.394335999999,35519.95773,4951.233634,5834.939483,9267.688187,8983.363017,7580.584657,17392.296223,8766.664561,6457.62575,44953.672612,24845.733139,4621.419558,6174.155495,97983.064386,7958.897707,12261.126956,20767.687344,70222.53208,0,13980.278478,41181.780595,22974.380506,54376.270334,38606.189732,20669.511868,44231.167252,6369.545375,4922.082643,15472.486087,78914.75133,33057.607652,5707.444483,29902.519755,2050.643938,17792.622719,24649.375653,36554.919954,32480.779087,93324.42374100001,6250.535374,51458.859639,44087.775502,25293.440253,28267.810461,87765.050951,4918.739092,7669.783244,5241.13501,8504.517374999999,10420.346426,95934.545421,93147.433277,5132.4471,4476.161435,70792.37022700001,52044.621435,42074.272536],[null,true,false,true,false,false,false,false,null,null,null,null,false,false,false,false,false,false,false,false,true,false,false,false,false,true,true,false,false,null,true,true,false,false,false,false,false,false,null,false,true,null,null,true,true,null,false,false,false,null,true,false,true,false,false,null,false,null,null,false,false,null,false,null,null,false,false,false,false,false,null,null,false,null,false,null,true,false,false,false,false,false,null,true,false,false,false,true,false,null,null,false,false,false,false,null,true,false,false,false],[null,false,false,true,true,true,false,true,null,null,null,null,false,true,false,false,false,false,false,true,false,false,true,false,true,false,true,true,false,null,false,true,false,true,true,true,false,true,null,true,true,null,null,true,false,null,false,false,false,null,true,true,false,true,true,null,true,null,null,false,false,null,false,null,null,true,false,true,true,false,null,null,false,null,true,null,false,true,true,true,true,true,null,true,true,true,true,true,false,null,null,true,false,true,true,null,false,false,true,true],[null,null,null,null,90,157,84,100,null,null,null,null,null,null,null,null,null,null,null,null,null,91,null,97,86,null,94,null,100,null,null,111,null,null,null,124,76,null,null,null,99,null,null,null,null,null,null,null,null,null,92,null,null,null,null,null,91,null,null,157,78,null,null,null,77,null,111,null,104,null,null,null,86,null,null,null,71,null,126,93,85,null,null,null,79,115,null,93,null,null,null,null,null,null,99,null,111,null,null,96],[null,null,null,0,67556.81,80193.962,15668.017,93399.539,null,null,null,null,0,null,0,null,null,null,null,null,null,67603.07399999999,null,0,71019.667,null,108067.326,null,194996.218,null,null,93853.352,null,null,null,147093.727,15880.3,null,null,null,154956.871,null,null,null,null,null,null,null,null,null,23879.477,null,null,null,null,null,253639.654,null,null,45943.905,170916.369,null,null,null,55412.718,null,72038.577,null,93399.539,null,null,null,205053.794,null,null,null,4669.263,null,58408.757,95814.868,58089.625,null,null,null,109215.334,57719.73,null,224828.193,null,null,null,null,null,null,209352.39,null,9637.112999999999,null,null,110281.759],[null,null,5.2,null,6,7.1,4.7,5.9,null,null,5.7,null,null,null,null,null,4.7,4.8,null,null,null,5,5.6,5,5.8,4.3,4.6,6.1,4.9,5.7,null,5.9,null,5.1,null,7.3,5.6,5.3,null,4.8,5.9,null,null,4.8,4.7,4.7,null,null,4.7,null,5.5,4.6,5.3,null,5.1,null,4.8,null,null,7.1,4.8,null,null,5.5,4,8.699999999999999,5.2,9.300000000000001,5.5,5.7,null,null,4.5,null,5.5,null,5.5,4.9,6,4.7,5.2,5.1,null,5.2,5.4,5.7,5.4,5.6,null,null,null,4.6,null,5.4,5.1,null,5.2,null,5.1,5],[null,17.45,26.53,null,30.9,24.74,16.79,30.63,null,null,27.78,16.08,29.45,18.15,18.55,42.42,22.57,25.03,17.41,17.79,19.73,18.28,21.63,28.93,29.51,39.88,39.1,26.98,25.61,31.41,19.23,21.65,24.99,35.19,19.36,29.6,18.75,25.45,null,20.79,34.44,null,20,24.38,22.13,46.89,15.92,17.9,31.21,14.65,20.21,21.63,26.08,24.23,22.01,15.1,25.7,null,null,33.6,25.26,null,20.34,27.49,18.64,35.6,26.84,36.9,22.75,33.48,null,null,24.2,null,17.82,null,29.7,35.9,31.52,21.27,19.12,18.34,14.91,27.33,23.27,67.34,26.38,35.44,25.61,null,null,34.13,15.27,25.36,36.03,16.89,30.22,19.94,20.28,23.16],[2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005],[2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006],[null,null,"13-15","19+","19+","19+","16-18","19+",null,"19+","13-15",null,"16-18",null,"16-18",null,"19+","19+",null,null,null,"16-18","19+","19+","19+","19+","19+","19+","19+","19+",null,"19+",null,"19+",null,"19+","16-18","19+",null,"13-15","19+",null,null,"13-15",null,"19+",null,null,"19+",null,"16-18","13-15","19+",null,"16-18",null,"19+",null,null,"19+","19+",null,null,"19+","19+","19+","19+","19+","19+",null,null,null,"19+",null,"16-18",null,"19+","13-15","19+","16-18","19+","19+",null,"19+","16-18","19+","19+","19+",null,null,null,"13-15",null,"19+","19+",null,"19+",null,"13-15","16-18"],[null,null,"&lt;5.7%",null,"&gt;=5.7% and &lt;6.5%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,null,"&gt;=5.7% and &lt;6.5%",null,null,null,null,null,"&lt;5.7%","&lt;5.7%",null,null,null,"&lt;5.7%","&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,"&gt;=5.7% and &lt;6.5%",null,"&lt;5.7%",null,"&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%",null,"&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,null,"&lt;5.7%","&lt;5.7%","&lt;5.7%",null,null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&lt;5.7%",null,"&lt;5.7%",null,"&lt;5.7%",null,null,"&gt;=5.7% and &lt;6.5%","&lt;5.7%",null,null,"&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,null,"&lt;5.7%",null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%","&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%",null,null,null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%",null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%"],[null,null,"13-15",null,null,null,"16-18",null,null,null,"13-15",null,"16-18",null,"16-18",null,null,null,null,null,null,"16-18",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"16-18",null,null,"13-15",null,null,null,"13-15",null,null,null,null,null,null,"16-18","13-15",null,null,"16-18",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"16-18",null,null,"13-15",null,"16-18",null,null,null,null,"16-18",null,null,null,null,null,null,"13-15",null,null,null,null,null,null,"13-15","16-18"],[null,null,null,null,"&lt;100 mg/dl","&gt;=126 mg/dl","&lt;100 mg/dl","&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,null,null,null,null,null,null,null,null,null,null,"&lt;100 mg/dl",null,"&lt;100 mg/dl","&lt;100 mg/dl",null,"&lt;100 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,"&gt;=100 mg/dl and &lt;126 mg/dl","&lt;100 mg/dl",null,null,null,"&lt;100 mg/dl",null,null,null,null,null,null,null,null,null,"&lt;100 mg/dl",null,null,null,null,null,"&lt;100 mg/dl",null,null,"&gt;=126 mg/dl","&lt;100 mg/dl",null,null,null,"&lt;100 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,"&lt;100 mg/dl",null,null,null,"&lt;100 mg/dl",null,"&gt;=126 mg/dl","&lt;100 mg/dl","&lt;100 mg/dl",null,null,null,"&lt;100 mg/dl","&gt;=100 mg/dl and &lt;126 mg/dl",null,"&lt;100 mg/dl",null,null,null,null,null,null,"&lt;100 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,"&lt;100 mg/dl"],[null,"Normal","Overweight",null,"Obese","Normal","Normal","Obese",null,null,"Overweight","Normal","Overweight","Normal","Normal","Obese","Normal","Overweight","Normal","Normal","Normal","Normal","Normal","Overweight","Overweight","Obese","Obese","Overweight","Overweight","Obese","Normal","Normal","Normal","Obese","Normal","Overweight","Normal","Overweight",null,"Normal","Obese",null,"Normal","Normal","Normal","Obese","Normal","Normal","Obese","Normal","Normal","Normal","Overweight","Normal","Normal","Normal","Overweight",null,null,"Obese","Overweight",null,"Normal","Overweight","Normal","Obese","Overweight","Obese","Normal","Obese",null,null,"Normal",null,"Normal",null,"Overweight","Obese","Obese","Normal","Normal","Normal","Normal","Overweight","Normal","Obese","Overweight","Obese","Overweight",null,null,"Obese","Normal","Overweight","Obese","Normal","Obese","Normal","Normal","Normal"],["&lt;1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1",null,"&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1",null,"&gt;=1","&gt;=1","&gt;=1","&lt;1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1",null,"&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1",null],["Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Outside the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Outside the US"],[null,true,false,true,true,true,false,true,null,null,null,null,false,true,false,false,false,false,false,true,true,false,true,false,true,true,true,true,false,null,true,true,false,true,true,true,false,true,null,true,true,null,null,true,true,null,false,false,false,null,true,true,true,true,true,null,true,null,null,false,false,null,false,null,null,true,false,true,true,false,null,null,false,null,true,null,true,true,true,true,true,true,null,true,true,true,true,true,false,null,null,true,false,true,true,null,true,false,true,true],[null,null,"nondiabetic",null,"prediabetic","diabetic","nondiabetic","prediabetic",null,null,"prediabetic",null,null,null,null,null,"nondiabetic","nondiabetic",null,null,null,"nondiabetic","nondiabetic","nondiabetic","prediabetic","nondiabetic","nondiabetic","prediabetic","prediabetic","prediabetic",null,"prediabetic",null,"nondiabetic",null,"diabetic","nondiabetic","nondiabetic",null,"nondiabetic","prediabetic",null,null,"nondiabetic","nondiabetic","nondiabetic",null,null,"nondiabetic",null,"nondiabetic","nondiabetic","nondiabetic",null,"nondiabetic",null,"nondiabetic",null,null,"diabetic","nondiabetic",null,null,"nondiabetic","nondiabetic","diabetic","prediabetic","diabetic","prediabetic","prediabetic",null,null,"nondiabetic",null,"nondiabetic",null,"nondiabetic","nondiabetic","diabetic","nondiabetic","nondiabetic","nondiabetic",null,"nondiabetic","nondiabetic","prediabetic","nondiabetic","nondiabetic",null,null,null,"nondiabetic",null,"nondiabetic","nondiabetic",null,"prediabetic",null,"nondiabetic","nondiabetic"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>...1<\/th>\n      <th>SEQN<\/th>\n      <th>RIDAGEYR<\/th>\n      <th>RIAGENDR<\/th>\n      <th>RIDRETH1<\/th>\n      <th>DMDBORN<\/th>\n      <th>INDFMPIR<\/th>\n      <th>SDMVPSU<\/th>\n      <th>SDMVSTRA<\/th>\n      <th>WTINT2YR<\/th>\n      <th>WTMEC2YR<\/th>\n      <th>OHXDECAY<\/th>\n      <th>OHXREST<\/th>\n      <th>LBXGLU<\/th>\n      <th>WTSAF2YR<\/th>\n      <th>LBXGH<\/th>\n      <th>BMXBMI<\/th>\n      <th>Begin.Year<\/th>\n      <th>EndYear<\/th>\n      <th>age.cat<\/th>\n      <th>LBXGH.cat<\/th>\n      <th>RIDAGEYR.cat<\/th>\n      <th>LBXGLU.cat<\/th>\n      <th>BMXBMI.cat<\/th>\n      <th>INDFMPIR.cat<\/th>\n      <th>DMDBORN.cat<\/th>\n      <th>dental.caries<\/th>\n      <th>diabetes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,7,8,9,10,11,14,15,16,17,18,19]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">## view the data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(nhanes_metadata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5a6d2a368c193b7aa790" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5a6d2a368c193b7aa790">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],["RIDAGEYR","RIAGENDR","RIDRETH1","DMDBORN","INDFMPIR","SDMVPSU","SDMVSTRA","WTINT2YR","WTMEC2YR","OHXDECAY","OHXREST","LBXGLU","WTSAF2YR","LBXGH","BMXBMI","RIDAGEYR","RIAGENDR","RIDRETH1","DMDBORN2","INDFMPIR","SDMVPSU","SDMVSTRA","WTINT2YR","WTMEC2YR"],["Age at Screening Adjudicated - Recode","Gender","Race/Ethnicity - Recode","Country of Birth - Recode","Family PIR","Masked Variance Pseudo-PSU","Masked Variance Pseudo-Stratum","Full Sample 2 Year Interview Weight","Full Sample 2 Year MEC Exam Weight","Dental decay present","Dental restoration present","Fasting Glucose (mg/dL)","Fasting Subsample 2 Year MEC Weight","Glycohemoglobin (%)","Body Mass Index (kg/m**2)","Age at Screening Adjudicated - Recode","Gender","Race/Ethnicity - Recode","Country of Birth - Recode","Ratio of family income to poverty","Masked Variance Pseudo-PSU","Masked Variance Pseudo-Stratum","Full Sample 2 Year Interview Weight","Full Sample 2 Year MEC Exam Weight"],["Best age in years of the sample person at time of HH screening. Individuals 85 and over are topcoded at 85 years of age.","Gender of the sample person","Recode of reported race and ethnicity information.","In what country {were you/was SP} born?","Poverty income ratio (PIR) - a ratio of family income to poverty threshold","Masked Variance Unit Pseudo-PSU variable for variance estimation","Masked Variance Unit Pseudo-Stratum variable for variance estimation","Interviewed Sample Persons.","Both Interviewed and MEC Examined Sample Persons.","Presence of at least one tooth with dental decay","Presence of at least one tooth with a dental restoration","Fasting Glucose (mg/dL)","Fasting Subsample 2 Year MEC Weight","Glycohemoglobin (%)","Body Mass Index (kg/m**2)","Best age in years of the sample person at time of HH screening. Individuals 80 and over are topcoded at 80 years of age.","Gender of the sample person","Recode of reported race and ethnicity information.","In what country {were you/was SP} born?","A ratio of family income to poverty threshold","Masked Variance Unit Pseudo-PSU variable for variance estimation","Masked Variance Unit Pseudo-Stratum variable for variance estimation","Interviewed Sample Persons.","Both Interviewed and MEC Examined Sample Persons."],["Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 5 YEARS - 150 YEARS","Both males and females 5 YEARS - 150 YEARS","Both males and females 12 YEARS - 150 YEARS","Both males and females 12 YEARS - 150 YEARS","Both males and females 12 YEARS - 150 YEARS","Both males and females 2 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS","Both males and females 0 YEARS - 150 YEARS"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>VariableName<\/th>\n      <th>SASLabel<\/th>\n      <th>EnglishText<\/th>\n      <th>Target<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Notice that the class of the data is now referred to as a “tibble”.</p>
<p>Tibbles tweak some of the behaviors of the data frame objects we introduced in the previously. The data structure is very similar to a data frame. For our purposes the only differences are that:</p>
<ol type="1">
<li><p>It displays the data type of each column under its name. Note that &lt;<code>dbl</code>&gt; is a data type defined to hold numeric values with decimal points.</p></li>
<li><p>It only prints the first few rows of data and only as many columns as fit on one screen.</p></li>
</ol>
<p>We are now going to learn some of the most common <strong><code>dplyr</code></strong> functions:</p>
<ul>
<li><code>select()</code>: subset columns</li>
<li><code>filter()</code>: subset rows on conditions</li>
<li><code>mutate()</code>: create new columns by using information from other columns</li>
<li><code>group_by()</code> and <code>summarise()</code>: create summary statistics on grouped data</li>
<li><code>arrange()</code>: sort results</li>
<li><code>count()</code>: count discrete values</li>
</ul>
</section>
<section id="selecting-columns-and-filtering-rows" class="level2">
<h2 data-anchor-id="selecting-columns-and-filtering-rows">Selecting columns and filtering rows</h2>
<p>To select columns of a data frame, use <code>select()</code>. The first argument to this function is the data frame (<code>nhanes</code>), and the subsequent arguments are the columns to keep.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(nhanes, RIAGENDR, DMDBORN, LBXGH, BMXBMI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 31,034 × 4
   RIAGENDR DMDBORN                       LBXGH BMXBMI
   &lt;chr&gt;    &lt;chr&gt;                         &lt;dbl&gt;  &lt;dbl&gt;
 1 Male     Born in 50 US States or Washi  NA     NA  
 2 Female   Born in 50 US States or Washi  NA     17.4
 3 Male     Born in 50 US States or Washi   5.2   26.5
 4 Female   Born in 50 US States or Washi  NA     NA  
 5 Female   Born in 50 US States or Washi   6     30.9
 6 Male     Born in 50 US States or Washi   7.1   24.7
 7 Female   Born in 50 US States or Washi   4.7   16.8
 8 Male     Born in 50 US States or Washi   5.9   30.6
 9 Male     Born in 50 US States or Washi  NA     NA  
10 Female   Born in 50 US States or Washi  NA     NA  
# ℹ 31,024 more rows</code></pre>
</div>
</div>
<p>To select all columns <em>except</em> certain ones, put a “-” in front of the variable to exclude it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(nhanes, <span class="sc">-</span>RIAGENDR, <span class="sc">-</span>DMDBORN, <span class="sc">-</span>LBXGH, <span class="sc">-</span>BMXBMI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 31,034 × 24
    ...1  SEQN RIDAGEYR RIDRETH1     INDFMPIR SDMVPSU SDMVSTRA WTINT2YR WTMEC2YR
   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1     1 31127        0 Non-Hispani…     0.75       2       44    6435.    6571.
 2     2 31128       11 Non-Hispani…     0.77       1       52    9082.    8987.
 3     3 31129       15 Non-Hispani…     2.71       1       51    5317.    5587.
 4     4 31130       85 Non-Hispani…     1.99       2       46   29961.   34031.
 5     5 31131       44 Non-Hispani…     4.65       1       48   26458.   26771.
 6     6 31132       70 Non-Hispani…     5          2       52   32962.   35316.
 7     7 31133       16 Non-Hispani…     5          1       51    5635.    5921.
 8     8 31134       73 Non-Hispani…    NA          2       48   43719.   44231.
 9     9 31135        0 Other Race …     5          2       52   15712.   16144.
10    10 31136       41 Non-Hispani…     3.57       2       51   26488.       0 
# ℹ 31,024 more rows
# ℹ 15 more variables: OHXDECAY &lt;lgl&gt;, OHXREST &lt;lgl&gt;, LBXGLU &lt;dbl&gt;,
#   WTSAF2YR &lt;dbl&gt;, Begin.Year &lt;dbl&gt;, EndYear &lt;dbl&gt;, age.cat &lt;chr&gt;,
#   LBXGH.cat &lt;chr&gt;, RIDAGEYR.cat &lt;chr&gt;, LBXGLU.cat &lt;chr&gt;, BMXBMI.cat &lt;chr&gt;,
#   INDFMPIR.cat &lt;chr&gt;, DMDBORN.cat &lt;chr&gt;, dental.caries &lt;lgl&gt;, diabetes &lt;chr&gt;</code></pre>
</div>
</div>
<p>This will select all the variables in <code>nhanes</code> except those in the statement.</p>
<p>To choose rows based on a specific criteria, use <code>filter()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(nhanes, RIAGENDR <span class="sc">==</span> <span class="st">"Male"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15,401 × 28
    ...1  SEQN RIDAGEYR RIAGENDR RIDRETH1      DMDBORN INDFMPIR SDMVPSU SDMVSTRA
   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
 1     1 31127        0 Male     Non-Hispanic… Born i…     0.75       2       44
 2     3 31129       15 Male     Non-Hispanic… Born i…     2.71       1       51
 3     6 31132       70 Male     Non-Hispanic… Born i…     5          2       52
 4     8 31134       73 Male     Non-Hispanic… Born i…    NA          2       48
 5     9 31135        0 Male     Other Race -… Born i…     5          2       52
 6    12 31138        3 Male     Mexican Amer… Born i…     2.13       2       57
 7    15 31141       16 Male     Mexican Amer… Born i…     5          2       48
 8    16 31142        7 Male     Mexican Amer… Born i…     0.51       2       54
 9    17 31143       19 Male     Non-Hispanic… Born i…     5          1       44
10    18 31144       21 Male     Other Hispan… Born i…     0.46       1       45
# ℹ 15,391 more rows
# ℹ 19 more variables: WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, OHXDECAY &lt;lgl&gt;,
#   OHXREST &lt;lgl&gt;, LBXGLU &lt;dbl&gt;, WTSAF2YR &lt;dbl&gt;, LBXGH &lt;dbl&gt;, BMXBMI &lt;dbl&gt;,
#   Begin.Year &lt;dbl&gt;, EndYear &lt;dbl&gt;, age.cat &lt;chr&gt;, LBXGH.cat &lt;chr&gt;,
#   RIDAGEYR.cat &lt;chr&gt;, LBXGLU.cat &lt;chr&gt;, BMXBMI.cat &lt;chr&gt;, INDFMPIR.cat &lt;chr&gt;,
#   DMDBORN.cat &lt;chr&gt;, dental.caries &lt;lgl&gt;, diabetes &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(nhanes, RIAGENDR <span class="sc">==</span> <span class="st">"Male"</span> <span class="sc">&amp;</span> LBXGLU <span class="sc">&gt;</span> <span class="dv">80</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4,646 × 28
    ...1  SEQN RIDAGEYR RIAGENDR RIDRETH1      DMDBORN INDFMPIR SDMVPSU SDMVSTRA
   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
 1     6 31132       70 Male     Non-Hispanic… Born i…     5          2       52
 2     8 31134       73 Male     Non-Hispanic… Born i…    NA          2       48
 3    24 31150       79 Male     Non-Hispanic… Born i…     1.22       2       44
 4    29 31155       38 Male     Other Race -… Born E…     3.5        2       48
 5    32 31158       71 Male     Non-Hispanic… Born i…     3.71       2       50
 6    41 31167       37 Male     Non-Hispanic… Born i…     4.16       1       44
 7    67 31193       51 Male     Non-Hispanic… Born i…     1.01       1       49
 8    69 31195       73 Male     Non-Hispanic… Born i…     5          2       48
 9    97 31223       61 Male     Mexican Amer… Born i…     1.68       2       58
10   101 31227       64 Male     Non-Hispanic… Born i…     5          2       48
# ℹ 4,636 more rows
# ℹ 19 more variables: WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, OHXDECAY &lt;lgl&gt;,
#   OHXREST &lt;lgl&gt;, LBXGLU &lt;dbl&gt;, WTSAF2YR &lt;dbl&gt;, LBXGH &lt;dbl&gt;, BMXBMI &lt;dbl&gt;,
#   Begin.Year &lt;dbl&gt;, EndYear &lt;dbl&gt;, age.cat &lt;chr&gt;, LBXGH.cat &lt;chr&gt;,
#   RIDAGEYR.cat &lt;chr&gt;, LBXGLU.cat &lt;chr&gt;, BMXBMI.cat &lt;chr&gt;, INDFMPIR.cat &lt;chr&gt;,
#   DMDBORN.cat &lt;chr&gt;, dental.caries &lt;lgl&gt;, diabetes &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(nhanes, RIAGENDR <span class="sc">==</span> <span class="st">"Male"</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(LBXGH))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9,751 × 28
    ...1  SEQN RIDAGEYR RIAGENDR RIDRETH1      DMDBORN INDFMPIR SDMVPSU SDMVSTRA
   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
 1     3 31129       15 Male     Non-Hispanic… Born i…     2.71       1       51
 2     6 31132       70 Male     Non-Hispanic… Born i…     5          2       52
 3     8 31134       73 Male     Non-Hispanic… Born i…    NA          2       48
 4    17 31143       19 Male     Non-Hispanic… Born i…     5          1       44
 5    18 31144       21 Male     Other Hispan… Born i…     0.46       1       45
 6    24 31150       79 Male     Non-Hispanic… Born i…     1.22       2       44
 7    28 31154       62 Male     Non-Hispanic… Born i…     1.56       1       45
 8    29 31155       38 Male     Other Race -… Born E…     3.5        2       48
 9    32 31158       71 Male     Non-Hispanic… Born i…     3.71       2       50
10    37 31163       17 Male     Non-Hispanic… Born i…     2.23       1       56
# ℹ 9,741 more rows
# ℹ 19 more variables: WTINT2YR &lt;dbl&gt;, WTMEC2YR &lt;dbl&gt;, OHXDECAY &lt;lgl&gt;,
#   OHXREST &lt;lgl&gt;, LBXGLU &lt;dbl&gt;, WTSAF2YR &lt;dbl&gt;, LBXGH &lt;dbl&gt;, BMXBMI &lt;dbl&gt;,
#   Begin.Year &lt;dbl&gt;, EndYear &lt;dbl&gt;, age.cat &lt;chr&gt;, LBXGH.cat &lt;chr&gt;,
#   RIDAGEYR.cat &lt;chr&gt;, LBXGLU.cat &lt;chr&gt;, BMXBMI.cat &lt;chr&gt;, INDFMPIR.cat &lt;chr&gt;,
#   DMDBORN.cat &lt;chr&gt;, dental.caries &lt;lgl&gt;, diabetes &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="pipes" class="level2">
<h2 data-anchor-id="pipes">Pipes</h2>
<p>What if you want to select and filter at the same time? There are three ways to do this: use intermediate steps, nested functions, or pipes.</p>
<p>With intermediate steps, you create a temporary data frame and use that as input to the next function, like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>nhanes2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(nhanes, RIAGENDR <span class="sc">==</span> <span class="st">"Male"</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>nhanes3 <span class="ot">&lt;-</span> <span class="fu">select</span>(nhanes2, RIAGENDR, RIDAGEYR, dental.caries, LBXGH)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>nhanes3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15,401 × 4
   RIAGENDR RIDAGEYR dental.caries LBXGH
   &lt;chr&gt;       &lt;dbl&gt; &lt;lgl&gt;         &lt;dbl&gt;
 1 Male            0 NA             NA  
 2 Male           15 FALSE           5.2
 3 Male           70 TRUE            7.1
 4 Male           73 TRUE            5.9
 5 Male            0 NA             NA  
 6 Male            3 NA             NA  
 7 Male           16 FALSE          NA  
 8 Male            7 FALSE          NA  
 9 Male           19 FALSE           4.7
10 Male           21 FALSE           4.8
# ℹ 15,391 more rows</code></pre>
</div>
</div>
<p>This is readable, but can clutter up your workspace with lots of intermediate objects that you have to name individually. With multiple steps, that can be hard to keep track of.</p>
<p>You can also nest functions (i.e.&nbsp;one function inside of another), like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>nhanes3 <span class="ot">&lt;-</span> <span class="fu">select</span>(<span class="fu">filter</span>(nhanes, RIAGENDR <span class="sc">==</span> <span class="st">"Male"</span>), RIAGENDR, RIDAGEYR, dental.caries, LBXGH)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>nhanes3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15,401 × 4
   RIAGENDR RIDAGEYR dental.caries LBXGH
   &lt;chr&gt;       &lt;dbl&gt; &lt;lgl&gt;         &lt;dbl&gt;
 1 Male            0 NA             NA  
 2 Male           15 FALSE           5.2
 3 Male           70 TRUE            7.1
 4 Male           73 TRUE            5.9
 5 Male            0 NA             NA  
 6 Male            3 NA             NA  
 7 Male           16 FALSE          NA  
 8 Male            7 FALSE          NA  
 9 Male           19 FALSE           4.7
10 Male           21 FALSE           4.8
# ℹ 15,391 more rows</code></pre>
</div>
</div>
<p>This is handy, but can be difficult to read if too many functions are nested, as R evaluates the expression from the inside out (in this case, filtering, then selecting).</p>
<p>The last option, <em>pipes</em>, are a recent addition to R. Pipes let you take the output of one function and send it directly to the next, which is useful when you need to do many things to the same dataset.</p>
<p>Pipes in R look like <code>|&gt;</code> (made available via the <strong><code>magrittr</code></strong> package) or <code>|&gt;</code> (through base R). If you use RStudio, you can type the pipe with <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>M</kbd> if you have a PC or <kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>M</kbd> if you have a Mac.</p>
<p>In the above code, we use the pipe to send the <code>nhanes</code> dataset first through <code>filter()</code> to keep rows where <code>RIAGENDR</code> is Male, then through <code>select()</code> to keep only the selected columns.</p>
<p>The pipe <code>|&gt;</code> takes the object on its left and passes it directly as the first argument to the function on its right, we don’t need to explicitly include the data frame as an argument to the <code>filter()</code> and <code>select()</code> functions any more.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>nhanes <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RIAGENDR <span class="sc">==</span> <span class="st">"Male"</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(RIAGENDR, RIDAGEYR, dental.caries, LBXGH)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15,401 × 4
   RIAGENDR RIDAGEYR dental.caries LBXGH
   &lt;chr&gt;       &lt;dbl&gt; &lt;lgl&gt;         &lt;dbl&gt;
 1 Male            0 NA             NA  
 2 Male           15 FALSE           5.2
 3 Male           70 TRUE            7.1
 4 Male           73 TRUE            5.9
 5 Male            0 NA             NA  
 6 Male            3 NA             NA  
 7 Male           16 FALSE          NA  
 8 Male            7 FALSE          NA  
 9 Male           19 FALSE           4.7
10 Male           21 FALSE           4.8
# ℹ 15,391 more rows</code></pre>
</div>
</div>
<p>Some may find it helpful to read the pipe like the word “then”. For instance, in the above example, we took the data frame <code>rna</code>, <em>then</em> we <code>filter</code>ed for rows with <code>RIAGENDR == "Male"</code>, <em>then</em> we <code>select</code>ed columns <code>RIAGENDR</code>, <code>RIDAGEYR</code>, <code>dental.caries</code>, and <code>LBXGH</code>.</p>
<p>The <strong><code>dplyr</code></strong> functions by themselves are somewhat simple, but by combining them into linear workflows with the pipe, we can accomplish more complex manipulations of data frames.</p>
<p>If we want to create a new object with this smaller version of the data, we can assign it a new name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>nhanes3 <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RIAGENDR <span class="sc">==</span> <span class="st">"Male"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(RIAGENDR, RIDAGEYR, dental.caries, LBXGH)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15,401 × 4
   RIAGENDR RIDAGEYR dental.caries LBXGH
   &lt;chr&gt;       &lt;dbl&gt; &lt;lgl&gt;         &lt;dbl&gt;
 1 Male            0 NA             NA  
 2 Male           15 FALSE           5.2
 3 Male           70 TRUE            7.1
 4 Male           73 TRUE            5.9
 5 Male            0 NA             NA  
 6 Male            3 NA             NA  
 7 Male           16 FALSE          NA  
 8 Male            7 FALSE          NA  
 9 Male           19 FALSE           4.7
10 Male           21 FALSE           4.8
# ℹ 15,391 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>nhanes3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15,401 × 4
   RIAGENDR RIDAGEYR dental.caries LBXGH
   &lt;chr&gt;       &lt;dbl&gt; &lt;lgl&gt;         &lt;dbl&gt;
 1 Male            0 NA             NA  
 2 Male           15 FALSE           5.2
 3 Male           70 TRUE            7.1
 4 Male           73 TRUE            5.9
 5 Male            0 NA             NA  
 6 Male            3 NA             NA  
 7 Male           16 FALSE          NA  
 8 Male            7 FALSE          NA  
 9 Male           19 FALSE           4.7
10 Male           21 FALSE           4.8
# ℹ 15,391 more rows</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Challenge:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Using pipes, subset the <code>nhanes</code> data to keep female participants 15 years or older, where the LBXGH is greater than 5.2 (and is not <code>NA</code>), and retain only the columns <code>RIAGENDR</code>, <code>RIDAGEYR</code>, and <code>LBXGLU</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>nhanes <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(LBXGH <span class="sc">&gt;</span> <span class="fl">5.2</span>,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>         RIAGENDR <span class="sc">==</span> <span class="st">"Female"</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>         RIDAGEYR <span class="sc">&gt;=</span> <span class="dv">15</span> ) <span class="sc">|&gt;</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(RIAGENDR, RIDAGEYR, LBXGLU)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,852 × 3
   RIAGENDR RIDAGEYR LBXGLU
   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;
 1 Female         44     90
 2 Female         85     NA
 3 Female         59     86
 4 Female         43     NA
 5 Female         71    124
 6 Female         18     92
 7 Female         46    157
 8 Female         60     NA
 9 Female         47     NA
10 Female         33     71
# ℹ 5,842 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="summarizing-data-in-tables" class="level1">
<h1>Summarizing Data in Tables</h1>
<div class="cell">
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-042ede4a417c32073cd9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-042ede4a417c32073cd9">{"x":{"filter":"none","vertical":false,"data":[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200],[31127,31128,31129,31130,31131,31132,31133,31134,31135,31136,31137,31138,31139,31140,31141,31142,31143,31144,31145,31146,31147,31148,31149,31150,31151,31152,31153,31154,31155,31156,31157,31158,31159,31160,31161,31162,31163,31164,31165,31166,31167,31168,31169,31170,31171,31172,31173,31174,31175,31176,31177,31178,31179,31180,31181,31182,31183,31184,31185,31186,31187,31188,31189,31190,31191,31192,31193,31194,31195,31196,31197,31198,31199,31200,31201,31202,31203,31204,31205,31206,31207,31208,31209,31210,31211,31212,31213,31214,31215,31216,31217,31218,31219,31220,31221,31222,31223,31224,31225,31226,31227,31228,31229,31230,31231,31232,31233,31234,31235,31236,31237,31238,31239,31240,31241,31242,31243,31244,31245,31246,31247,31248,31249,31250,31251,31252,31253,31254,31255,31256,31257,31258,31259,31260,31261,31262,31263,31264,31265,31266,31267,31268,31269,31270,31271,31272,31273,31274,31275,31276,31277,31278,31279,31280,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31291,31292,31293,31294,31295,31296,31297,31298,31299,31300,31301,31302,31303,31304,31305,31306,31307,31308,31309,31310,31311,31312,31313,31314,31315,31316,31317,31318,31319,31320,31321,31322,31323,31324,31325,31326],[0,11,15,85,44,70,16,73,0,41,14,3,18,11,16,7,19,21,10,8,7,16,85,79,59,27,44,62,38,43,11,71,9,39,10,71,17,54,1,15,37,0,3,14,12,20,6,6,75,3,18,14,71,12,16,2,33,0,1,46,22,5,9,72,22,60,51,47,73,12,0,0,25,1,17,1,33,15,43,17,20,47,2,33,17,23,53,46,12,0,1,14,9,50,54,4,61,9,14,17,64,34,4,10,30,56,83,0,19,5,12,9,18,34,40,58,80,23,18,17,7,21,18,10,3,35,26,30,34,3,70,20,35,5,49,52,78,17,19,62,14,40,15,8,14,11,62,56,13,36,61,65,76,60,2,16,0,80,57,27,2,19,16,41,52,15,15,73,11,4,85,33,9,18,66,24,33,53,17,0,77,59,60,15,71,10,12,28,3,10,24,7,8,13,25,4,83,47,27,3],["Male","Female","Male","Female","Female","Male","Female","Male","Male","Female","Female","Male","Female","Female","Male","Male","Male","Male","Female","Female","Female","Female","Female","Male","Female","Female","Female","Male","Male","Female","Female","Male","Male","Female","Female","Female","Male","Male","Male","Male","Male","Male","Female","Male","Female","Female","Male","Female","Male","Female","Female","Female","Male","Female","Male","Female","Female","Male","Male","Female","Female","Female","Female","Male","Female","Female","Male","Female","Male","Female","Male","Male","Female","Female","Male","Male","Female","Female","Female","Female","Female","Female","Female","Male","Female","Female","Female","Female","Female","Male","Female","Female","Male","Male","Female","Male","Male","Male","Female","Female","Male","Male","Male","Female","Female","Female","Male","Female","Male","Female","Male","Female","Male","Female","Male","Male","Male","Male","Female","Male","Male","Male","Female","Female","Female","Male","Male","Male","Female","Male","Male","Male","Female","Female","Female","Male","Female","Male","Male","Male","Female","Female","Female","Female","Male","Male","Male","Male","Female","Male","Female","Male","Female","Female","Female","Female","Female","Male","Female","Male","Male","Male","Female","Male","Male","Female","Male","Female","Male","Female","Female","Female","Male","Female","Male","Female","Female","Male","Male","Male","Female","Male","Male","Female","Male","Male","Female","Male","Male","Female","Male","Male","Male","Male","Female","Male","Male","Female","Male","Female"],["Non-Hispanic White","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Other Race - Including Multi-R","Non-Hispanic Black","Non-Hispanic Black","Mexican American","Other Hispanic","Non-Hispanic White","Mexican American","Mexican American","Non-Hispanic White","Other Hispanic","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Mexican American","Other Race - Including Multi-R","Non-Hispanic Black","Other Race - Including Multi-R","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Other Race - Including Multi-R","Non-Hispanic Black","Non-Hispanic White","Mexican American","Mexican American","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic Black","Other Race - Including Multi-R","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Mexican American","Non-Hispanic White","Mexican American","Other Race - Including Multi-R","Non-Hispanic Black","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic White","Mexican American","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Mexican American","Mexican American","Other Race - Including Multi-R","Non-Hispanic White","Other Hispanic","Non-Hispanic White","Mexican American","Mexican American","Mexican American","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic Black","Mexican American","Other Hispanic","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Other Hispanic","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic Black","Mexican American","Mexican American","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic White","Mexican American","Mexican American","Mexican American","Non-Hispanic White","Other Hispanic","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic Black","Mexican American","Non-Hispanic Black","Other Race - Including Multi-R","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Non-Hispanic White","Mexican American","Other Hispanic","Other Hispanic","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic White","Mexican American","Non-Hispanic White","Non-Hispanic White","Mexican American","Mexican American","Mexican American","Non-Hispanic White","Non-Hispanic White","Mexican American","Mexican American","Non-Hispanic Black","Mexican American","Mexican American","Non-Hispanic Black","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic White","Mexican American","Other Race - Including Multi-R","Mexican American","Mexican American","Non-Hispanic White","Other Hispanic","Mexican American","Mexican American","Non-Hispanic Black","Non-Hispanic White","Non-Hispanic Black","Mexican American","Non-Hispanic White","Non-Hispanic White","Mexican American","Non-Hispanic Black","Mexican American","Mexican American","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic Black","Non-Hispanic Black","Mexican American","Mexican American","Non-Hispanic White","Non-Hispanic Black","Non-Hispanic White","Mexican American"],["Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born Elsewhere","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in Mexico","Born Elsewhere","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born Elsewhere","Born in 50 US States or Washi","Born in Mexico","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi","Born in 50 US States or Washi"],[0.75,0.77,2.71,1.99,4.65,5,5,null,5,3.57,0.1,2.13,4.91,5,5,0.51,5,0.46,3.32,2.63,0.78,1.06,0.05,1.22,3.03,1.76,1.03,1.56,3.5,1.19,0.99,3.71,0.63,1.91,2.9,2.5,2.23,5,2.8,0.75,4.16,null,2.05,3,1.31,0.7,0.72,1.05,3.92,0.41,1.12,4.07,0.44,1.33,2.41,0.66,3.9,0.41,0.25,1.68,4.29,0.49,2.58,null,0.88,4.49,1.01,1.02,5,1.86,0.74,1.71,1,5,0.15,1.51,0.99,1.14,5,1.03,0.1,5,0.42,1.04,5,0.48,1.05,0.77,1.92,3.1,0.67,1.81,2.14,5,5,0.82,1.68,5,2.49,null,5,1.68,null,0.55,4.55,1.17,2.61,1.09,0.37,3.36,4.25,0,5,5,2.73,5,5,2.16,3,1.49,0.1,0.65,0.51,0.88,0.62,3.62,0.84,0,1.86,1.58,1.21,1.43,1.93,0.76,3.48,2.43,1.74,3.1,0.16,2.04,3.92,0.38,2.99,0.37,1.5,0,3.9,1.88,3.3,5,5,4.17,1.17,2.3,0.8100000000000001,5,0.77,5,3.57,0.9,2.89,0.66,1.55,0.82,4.29,1.86,1.61,3.12,0.5600000000000001,0.96,5,2.83,2.08,0.85,2.07,2.4,1.71,null,2.78,3.21,4.17,3.66,0.75,5,1.52,1.39,0.03,5,0.7,3.48,0.21,1.01,1.9,1.2,2.03,1.37,null,3.9,1.63,0.48],[2,1,1,2,1,2,1,2,2,2,2,2,1,1,2,2,1,1,1,1,1,1,2,2,2,1,2,1,2,2,1,2,1,1,1,2,1,1,1,1,1,2,1,2,1,2,2,2,2,1,2,1,1,1,2,1,1,1,1,1,2,2,1,2,1,1,1,2,2,1,1,2,1,1,2,2,2,2,1,2,1,1,2,1,2,2,1,1,2,1,1,2,2,1,2,2,2,2,1,1,2,1,2,2,2,1,2,1,2,1,2,1,1,2,1,2,2,2,2,1,2,2,2,1,1,1,1,1,1,1,2,2,1,2,1,2,2,1,1,2,2,2,2,1,2,2,1,1,2,1,2,2,1,1,1,2,1,2,2,2,1,1,1,2,1,1,1,1,2,2,1,1,1,2,1,1,2,2,2,2,2,1,1,2,2,1,1,1,2,1,1,1,1,2,1,1,1,1,2,2],[44,52,51,46,48,52,51,48,52,51,51,57,44,50,48,54,44,45,44,44,44,50,52,44,53,57,54,45,48,51,55,50,44,46,49,47,56,53,54,55,44,46,49,46,51,51,49,57,45,50,49,57,54,48,45,57,47,50,46,54,54,45,56,44,56,44,49,53,48,51,48,50,46,55,52,46,57,45,57,54,49,55,47,57,47,57,52,48,49,49,44,58,50,50,49,45,58,55,57,52,48,54,53,56,57,47,47,48,49,57,52,51,45,48,51,52,52,48,58,46,51,51,57,50,52,52,46,57,56,56,50,49,55,46,46,55,49,46,44,50,47,49,53,58,45,49,48,53,48,49,47,54,55,44,55,48,56,44,49,49,54,49,57,45,52,44,58,48,52,46,46,57,49,45,57,46,49,57,55,45,49,51,48,51,44,55,54,55,55,51,49,49,56,45,54,55,54,47,44,49],[6434.950248,9081.700761,5316.895215,29960.839509,26457.70818,32961.50992,5635.221296,43718.506372,15711.544398,26487.611553,5576.468045,8753.180369,5675.705534,48812.354454,6332.25906,8284.087114,30620.447953,46374.162387,32403.115538,35835.450511,9352.936812,20535.845742,23813.234506,15391.933002,32632.519543,21843.432299,41246.554983,9263.820576,75218.78564099999,22787.015345,7872.92021,40704.463599,8615.176733,101878.330771,43534.36192,62389.493966,6425.284864,88953.828217,5966.405095,30180.119427,60628.206361,17662.607887,8045.839357,34799.953041,4951.476272,5540.109098,9406.394404000001,8401.282739,7720.319907,17587.719148,8767.094177000001,6189.554363,42440.144274,23989.049702,4398.21681,5862.679039,91953.092984,8011.233699,12078.040164,19238.363275,66674.297133,5381.55832,13399.023449,40704.463599,21509.385526,53648.098507,39075.469976,20581.040222,43718.506372,6081.271402,4610.164412,15151.220918,75121.309626,31577.38149,5431.789508,29456.006442,2047.984955,17643.592857,23957.751716,36248.738301,33020.555943,90455.73052899999,5820.551456,49854.459653,42490.838622,25713.775419,27793.827721,85351.401638,4476.427647,7283.71027,4904.894337,8094.567158,9913.654732999999,93367.846509,95070.184312,4896.873078,4329.095591,68825.821748,50250.117529,33500.38799,63955.307209,27433.610882,9352.736838999999,6190.72894,8539.956631999999,29888.842935,25709.526772,7238.983391,5359.413878,10369.460582,33085.824048,9235.519518999999,32861.734847,8433.829459,27970.742974,67592.181398,17646.969893,84964.347933,4071.809413,40011.315891,7972.193224,18810.573575,3891.860949,11495.707803,8494.602093,23015.242442,54804.913677,34163.386397,2795.616045,8786.062416999999,16029.179638,48628.351586,6547.881846,18739.028432,28544.043343,24368.21112,19373.067529,25021.998806,5508.418443,62773.441351,42910.640173,41274.649594,6358.015294,11992.079912,20469.063215,10864.397826,57262.757937,88953.828217,6587.737522,23015.242442,77071.58308700001,8128.857692,51126.282345,53648.098507,5207.253336,6149.594044,2062.032459,20926.035183,95070.184312,20866.704748,5251.682286,7162.985905,4898.223163,12305.794504,24459.920985,5309.879793,3315.944834,48241.275961,9017.033245000001,16887.55827,33862.695641,28914.289386,11291.289536,4046.647464,7101.447409,6926.280887,47495.451768,19361.65138,5311.171954,3872.018188,53574.878605,32380.324227,10976.228126,35343.636122,39086.240891,7903.190131,6366.59368,19913.008976,10065.376086,7684.880344,31256.38339,8645.156618999999,11136.793486,4986.442871,19062.884597,7220.077087,22721.651711,29888.842935,80078.871759,6658.804542],[6571.396373,8987.041810000001,5586.719481,34030.994786,26770.584605,35315.5389,5920.617679,44231.167252,16143.815753,0,5576.19478,9174.269883000001,5963.152246,50545.300444,6410.894644,8589.8292,31197.601782,49416.755687,33319.745259,37107.687857,9758.670975000001,25791.664585,25998.279203,15572.425031,32058.654021,22237.017339,42554.639187,9489.676959,77639.452106,22386.289853,8080.471011,43600.326104,9178.42467,104038.304825,43684.757525,66398.88783000001,6425.602062,91399.184972,6253.431126,30748.973661,62579.323555,18037.124286,8532.394335999999,35519.95773,4951.233634,5834.939483,9267.688187,8983.363017,7580.584657,17392.296223,8766.664561,6457.62575,44953.672612,24845.733139,4621.419558,6174.155495,97983.064386,7958.897707,12261.126956,20767.687344,70222.53208,0,13980.278478,41181.780595,22974.380506,54376.270334,38606.189732,20669.511868,44231.167252,6369.545375,4922.082643,15472.486087,78914.75133,33057.607652,5707.444483,29902.519755,2050.643938,17792.622719,24649.375653,36554.919954,32480.779087,93324.42374100001,6250.535374,51458.859639,44087.775502,25293.440253,28267.810461,87765.050951,4918.739092,7669.783244,5241.13501,8504.517374999999,10420.346426,95934.545421,93147.433277,5132.4471,4476.161435,70792.37022700001,52044.621435,42074.272536,68158.07717999999,29217.952377,9345.669491000001,6353.932772,9099.977971,30436.239549,28238.70046,7175.117204,5539.891351,10846.502128,33709.446865,9786.277298000001,33481.133888,8986.891337999999,27902.030079,69682.29122499999,0,90841.26215,4248.160655,40839.142728,8055.428961,19761.967197,4060.418571,12181.251317,9008.295042,24787.806876,0,34952.662094,3001.410285,9271.453439999999,17169.553351,49826.771692,6794.79055,18530.81293,29138.389681,26377.003689,19353.648229,25539.699402,5508.690379,66881.443868,44523.35449,40810.263359,6986.244578,12512.301164,20854.877238,11419.682459,61025.732583,91704.490597,6921.374191,24787.806876,77927.550756,8405.007132000001,51723.504974,54376.270334,5483.907884,0,2161.079769,21315.100707,93147.433277,22647.192894,5541.814466,7481.169954,5221.059738,12695.544084,25412.966811,5578.799221,3357.12307,50775.822867,9477.89818,16756.021555,36879.872107,29586.95106,11868.392811,4221.908935,7342.694186,7276.041067,48502.42688,20579.810016,5493.59871,4017.664758,52882.084806,32455.948059,10859.419985,36605.808156,39311.344365,7865.924595,6366.281697,20718.357505,10416.342098,7604.780511,31636.458627,9210.364598,11864.901121,5239.497189,19559.464818,7567.413554,25870.419531,30436.239549,86943.653936,6857.921865],[null,true,false,true,false,false,false,false,null,null,null,null,false,false,false,false,false,false,false,false,true,false,false,false,false,true,true,false,false,null,true,true,false,false,false,false,false,false,null,false,true,null,null,true,true,null,false,false,false,null,true,false,true,false,false,null,false,null,null,false,false,null,false,null,null,false,false,false,false,false,null,null,false,null,false,null,true,false,false,false,false,false,null,true,false,false,false,true,false,null,null,false,false,false,false,null,true,false,false,false,false,false,null,false,false,false,false,null,true,false,false,false,false,false,false,false,null,true,false,false,null,true,null,false,null,false,null,false,false,null,false,false,true,false,true,true,null,false,true,false,false,true,false,true,false,false,false,false,false,true,false,false,false,false,null,null,null,false,false,true,null,false,false,true,true,false,false,null,false,null,false,false,false,false,false,false,true,true,false,null,null,false,true,false,false,false,true,false,null,false,true,false,false,false,false,null,false,true,true,null],[null,false,false,true,true,true,false,true,null,null,null,null,false,true,false,false,false,false,false,true,false,false,true,false,true,false,true,true,false,null,false,true,false,true,true,true,false,true,null,true,true,null,null,true,false,null,false,false,false,null,true,true,false,true,true,null,true,null,null,false,false,null,false,null,null,true,false,true,true,false,null,null,false,null,true,null,false,true,true,true,true,true,null,true,true,true,true,true,false,null,null,true,false,true,true,null,false,false,true,true,true,true,null,true,true,true,false,null,false,false,false,false,false,true,false,true,null,false,true,true,null,true,null,true,null,true,null,true,true,null,true,true,false,false,true,true,null,false,false,false,true,true,false,true,true,false,true,false,false,true,true,true,false,true,null,null,null,true,true,true,null,false,true,false,true,true,false,null,false,null,false,true,false,false,true,true,true,true,true,null,null,true,false,true,true,false,false,true,null,true,true,false,false,true,true,null,true,true,true,null],[null,null,null,null,90,157,84,100,null,null,null,null,null,null,null,null,null,null,null,null,null,91,null,97,86,null,94,null,100,null,null,111,null,null,null,124,76,null,null,null,99,null,null,null,null,null,null,null,null,null,92,null,null,null,null,null,91,null,null,157,78,null,null,null,77,null,111,null,104,null,null,null,86,null,null,null,71,null,126,93,85,null,null,null,79,115,null,93,null,null,null,null,null,null,99,null,111,null,null,96,89,122,null,null,null,null,null,null,92,null,103,null,105,null,93,93,null,null,null,96,null,105,null,null,null,97,null,null,null,null,130,null,81,null,98,100,151,84,null,95,86,109,null,null,95,null,102,null,90,null,null,null,null,100,null,null,null,102,null,101,null,null,null,101,null,null,null,93,null,null,null,103,null,null,null,95,null,132,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,87,96,99,null],[null,null,null,0,67556.81,80193.962,15668.017,93399.539,null,null,null,null,0,null,0,null,null,null,null,null,null,67603.07399999999,null,0,71019.667,null,108067.326,null,194996.218,null,null,93853.352,null,null,null,147093.727,15880.3,null,null,null,154956.871,null,null,null,null,null,null,null,null,null,23879.477,null,null,null,null,null,253639.654,null,null,45943.905,170916.369,null,null,null,55412.718,null,72038.577,null,93399.539,null,null,null,205053.794,null,null,null,4669.263,null,58408.757,95814.868,58089.625,null,null,null,109215.334,57719.73,null,224828.193,null,null,null,null,null,null,209352.39,null,9637.112999999999,null,null,110281.759,150334.014,72180.109,null,null,null,null,null,null,14092.548,null,103792.564,null,84932.53,null,59342.538,145327.826,null,null,null,97910.412,null,48820.018,null,null,null,0,null,null,null,null,41312.794,null,13612.537,null,84639.848,58902.198,40257.762,61230.533,0,0,110564.685,100370.838,null,null,54848.595,null,132090.572,null,18268.811,null,null,null,null,146794.164,null,null,null,45009.452,null,61589.34,null,null,null,28350.28,null,null,null,128883.518,null,null,null,67368.715,null,null,null,20743.254,null,0,null,null,null,null,null,null,0,null,null,null,null,null,null,null,null,null,null,null,55996.681,76807.25900000001,220229.114,null],[null,null,5.2,null,6,7.1,4.7,5.9,null,null,5.7,null,null,null,null,null,4.7,4.8,null,null,null,5,5.6,5,5.8,4.3,4.6,6.1,4.9,5.7,null,5.9,null,5.1,null,7.3,5.6,5.3,null,4.8,5.9,null,null,4.8,4.7,4.7,null,null,4.7,null,5.5,4.6,5.3,null,5.1,null,4.8,null,null,7.1,4.8,null,null,5.5,4,8.699999999999999,5.2,9.300000000000001,5.5,5.7,null,null,4.5,null,5.5,null,5.5,4.9,6,4.7,5.2,5.1,null,5.2,5.4,5.7,5.4,5.6,null,null,null,4.6,null,5.4,5.1,null,5.2,null,5.1,5,5.2,5.7,null,null,4.3,6,10.3,null,5.4,null,4.9,null,5.5,4.9,5.4,4.3,null,4.7,4.7,4.8,null,5.5,4.5,null,null,5.6,null,5.5,5.4,null,7.5,5.3,4.6,null,5.9,6,6.9,5.4,null,5,4.8,5.7,5.2,null,5.1,null,5.2,5.1,4.7,5.6,5,5.7,6,5.5,null,null,null,5.2,5.4,5.1,null,5,5.1,4.9,6,null,5,5.3,null,null,5.5,null,null,5.1,4.8,5.3,4.9,5.9,5.3,null,6.1,5.6,5,null,null,null,5.1,5.3,null,null,4.3,null,null,5.4,5.1,null,6,5.6,5.1,null],[null,17.45,26.53,null,30.9,24.74,16.79,30.63,null,null,27.78,16.08,29.45,18.15,18.55,42.42,22.57,25.03,17.41,17.79,19.73,18.28,21.63,28.93,29.51,39.88,39.1,26.98,25.61,31.41,19.23,21.65,24.99,35.19,19.36,29.6,18.75,25.45,null,20.79,34.44,null,20,24.38,22.13,46.89,15.92,17.9,31.21,14.65,20.21,21.63,26.08,24.23,22.01,15.1,25.7,null,null,33.6,25.26,null,20.34,27.49,18.64,35.6,26.84,36.9,22.75,33.48,null,null,24.2,null,17.82,null,29.7,35.9,31.52,21.27,19.12,18.34,14.91,27.33,23.27,67.34,26.38,35.44,25.61,null,null,34.13,15.27,25.36,36.03,16.89,30.22,19.94,20.28,23.16,23.32,22.92,19.72,15.93,21.76,29.1,36.62,null,35.27,17.05,32.01,19.21,24.06,22.85,32.31,28.31,null,22.45,29.18,28.07,17.31,25.16,21.13,16.08,17.89,32.62,null,24.18,30.4,17.22,23.55,23.38,28.81,13.92,29.35,27.78,31.64,20.46,22.74,28.82,27.25,30.56,29.25,24.65,27.8,17.57,29.16,null,20.26,32.51,28.8,26.01,22.69,31.32,14.67,null,null,21.18,33.24,19.22,20.07,25.43,30.4,25.71,39.5,23.85,19.85,25.94,19.96,15.02,26.87,26.87,19.28,20.99,33.05,30,30.78,31.15,25.22,null,27.55,27.81,31.98,20.28,23.77,17.47,17.28,27.19,14.41,27.93,32.63,16.87,19.18,26.98,19.64,16.72,25.6,29.94,42.65,15.19],[2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005],[2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006],[null,null,"13-15","19+","19+","19+","16-18","19+",null,"19+","13-15",null,"16-18",null,"16-18",null,"19+","19+",null,null,null,"16-18","19+","19+","19+","19+","19+","19+","19+","19+",null,"19+",null,"19+",null,"19+","16-18","19+",null,"13-15","19+",null,null,"13-15",null,"19+",null,null,"19+",null,"16-18","13-15","19+",null,"16-18",null,"19+",null,null,"19+","19+",null,null,"19+","19+","19+","19+","19+","19+",null,null,null,"19+",null,"16-18",null,"19+","13-15","19+","16-18","19+","19+",null,"19+","16-18","19+","19+","19+",null,null,null,"13-15",null,"19+","19+",null,"19+",null,"13-15","16-18","19+","19+",null,null,"19+","19+","19+",null,"19+",null,null,null,"16-18","19+","19+","19+","19+","19+","16-18","16-18",null,"19+","16-18",null,null,"19+","19+","19+","19+",null,"19+","19+","19+",null,"19+","19+","19+","16-18","19+","19+","13-15","19+","13-15",null,"13-15",null,"19+","19+","13-15","19+","19+","19+","19+","19+",null,"16-18",null,"19+","19+","19+",null,"19+","16-18","19+","19+","13-15","13-15","19+",null,null,"19+","19+",null,"16-18","19+","19+","19+","19+","16-18",null,"19+","19+","19+","13-15","19+",null,null,"19+",null,null,"19+",null,null,"13-15","19+",null,"19+","19+","19+",null],[null,null,"&lt;5.7%",null,"&gt;=5.7% and &lt;6.5%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,null,"&gt;=5.7% and &lt;6.5%",null,null,null,null,null,"&lt;5.7%","&lt;5.7%",null,null,null,"&lt;5.7%","&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,"&gt;=5.7% and &lt;6.5%",null,"&lt;5.7%",null,"&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%",null,"&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,null,"&lt;5.7%","&lt;5.7%","&lt;5.7%",null,null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&lt;5.7%",null,"&lt;5.7%",null,"&lt;5.7%",null,null,"&gt;=5.7% and &lt;6.5%","&lt;5.7%",null,null,"&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,null,"&lt;5.7%",null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%","&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%",null,null,null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%",null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,null,"&lt;5.7%","&gt;=5.7% and &lt;6.5%","&gt;=5.7% and &lt;6.5%",null,"&lt;5.7%",null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&lt;5.7%","&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&lt;5.7%",null,"&lt;5.7%","&lt;5.7%",null,null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%",null,"&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%",null,"&gt;=5.7% and &lt;6.5%","&gt;=5.7% and &lt;6.5%","&gt;=5.7% and &lt;6.5%","&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%",null,"&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&lt;5.7%","&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&gt;=5.7% and &lt;6.5%","&lt;5.7%",null,null,null,"&lt;5.7%","&lt;5.7%","&lt;5.7%",null,"&lt;5.7%","&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%",null,"&lt;5.7%","&lt;5.7%",null,null,"&lt;5.7%",null,null,"&lt;5.7%","&lt;5.7%","&lt;5.7%","&lt;5.7%","&gt;=5.7% and &lt;6.5%","&lt;5.7%",null,"&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%",null,null,null,"&lt;5.7%","&lt;5.7%",null,null,"&lt;5.7%",null,null,"&lt;5.7%","&lt;5.7%",null,"&gt;=5.7% and &lt;6.5%","&lt;5.7%","&lt;5.7%",null],[null,null,"13-15",null,null,null,"16-18",null,null,null,"13-15",null,"16-18",null,"16-18",null,null,null,null,null,null,"16-18",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"16-18",null,null,"13-15",null,null,null,"13-15",null,null,null,null,null,null,"16-18","13-15",null,null,"16-18",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"16-18",null,null,"13-15",null,"16-18",null,null,null,null,"16-18",null,null,null,null,null,null,"13-15",null,null,null,null,null,null,"13-15","16-18",null,null,null,null,null,null,null,null,null,null,null,null,"16-18",null,null,null,null,null,"16-18","16-18",null,null,"16-18",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"16-18",null,null,"13-15",null,"13-15",null,"13-15",null,null,null,"13-15",null,null,null,null,null,null,"16-18",null,null,null,null,null,null,"16-18",null,null,"13-15","13-15",null,null,null,null,null,null,"16-18",null,null,null,null,"16-18",null,null,null,null,"13-15",null,null,null,null,null,null,null,null,null,"13-15",null,null,null,null,null,null],[null,null,null,null,"&lt;100 mg/dl","&gt;=126 mg/dl","&lt;100 mg/dl","&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,null,null,null,null,null,null,null,null,null,null,"&lt;100 mg/dl",null,"&lt;100 mg/dl","&lt;100 mg/dl",null,"&lt;100 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,"&gt;=100 mg/dl and &lt;126 mg/dl","&lt;100 mg/dl",null,null,null,"&lt;100 mg/dl",null,null,null,null,null,null,null,null,null,"&lt;100 mg/dl",null,null,null,null,null,"&lt;100 mg/dl",null,null,"&gt;=126 mg/dl","&lt;100 mg/dl",null,null,null,"&lt;100 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,"&lt;100 mg/dl",null,null,null,"&lt;100 mg/dl",null,"&gt;=126 mg/dl","&lt;100 mg/dl","&lt;100 mg/dl",null,null,null,"&lt;100 mg/dl","&gt;=100 mg/dl and &lt;126 mg/dl",null,"&lt;100 mg/dl",null,null,null,null,null,null,"&lt;100 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,"&lt;100 mg/dl","&lt;100 mg/dl","&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,null,null,null,"&lt;100 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,"&lt;100 mg/dl","&lt;100 mg/dl",null,null,null,"&lt;100 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,"&lt;100 mg/dl",null,null,null,null,"&gt;=126 mg/dl",null,"&lt;100 mg/dl",null,"&lt;100 mg/dl","&gt;=100 mg/dl and &lt;126 mg/dl","&gt;=126 mg/dl","&lt;100 mg/dl",null,"&lt;100 mg/dl","&lt;100 mg/dl","&gt;=100 mg/dl and &lt;126 mg/dl",null,null,"&lt;100 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,"&lt;100 mg/dl",null,null,null,null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,"&lt;100 mg/dl",null,null,null,"&gt;=100 mg/dl and &lt;126 mg/dl",null,null,null,"&lt;100 mg/dl",null,"&gt;=126 mg/dl",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"&lt;100 mg/dl","&lt;100 mg/dl","&lt;100 mg/dl",null],[null,"Normal","Overweight",null,"Obese","Normal","Normal","Obese",null,null,"Overweight","Normal","Overweight","Normal","Normal","Obese","Normal","Overweight","Normal","Normal","Normal","Normal","Normal","Overweight","Overweight","Obese","Obese","Overweight","Overweight","Obese","Normal","Normal","Normal","Obese","Normal","Overweight","Normal","Overweight",null,"Normal","Obese",null,"Normal","Normal","Normal","Obese","Normal","Normal","Obese","Normal","Normal","Normal","Overweight","Normal","Normal","Normal","Overweight",null,null,"Obese","Overweight",null,"Normal","Overweight","Normal","Obese","Overweight","Obese","Normal","Obese",null,null,"Normal",null,"Normal",null,"Overweight","Obese","Obese","Normal","Normal","Normal","Normal","Overweight","Normal","Obese","Overweight","Obese","Overweight",null,null,"Obese","Normal","Overweight","Obese","Normal","Obese","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Overweight","Obese",null,"Obese","Normal","Obese","Normal","Normal","Normal","Obese","Overweight",null,"Normal","Overweight","Overweight","Normal","Overweight","Normal","Normal","Normal","Obese",null,"Normal","Obese","Normal","Normal","Normal","Overweight","Normal","Overweight","Overweight","Obese","Normal","Normal","Overweight","Overweight","Obese","Overweight","Normal","Overweight","Normal","Overweight",null,"Normal","Obese","Overweight","Overweight","Normal","Obese","Normal",null,null,"Normal","Obese","Normal","Normal","Overweight","Obese","Overweight","Obese","Normal","Normal","Overweight","Normal","Normal","Overweight","Overweight","Normal","Normal","Obese","Obese","Obese","Obese","Overweight",null,"Overweight","Overweight","Obese","Normal","Normal","Normal","Normal","Overweight","Normal","Overweight","Obese","Normal","Normal","Overweight","Normal","Normal","Overweight","Overweight","Obese","Normal"],["&lt;1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1",null,"&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1",null,"&gt;=1","&gt;=1","&gt;=1","&lt;1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1",null,"&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1",null,"&gt;=1","&gt;=1",null,"&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&lt;1","&lt;1","&lt;1","&lt;1","&gt;=1","&lt;1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1",null,"&gt;=1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&lt;1","&gt;=1","&gt;=1","&gt;=1","&gt;=1","&gt;=1",null,"&gt;=1","&gt;=1","&lt;1"],["Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Outside the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Outside the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Outside the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Outside the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Within the US","Outside the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US","Outside the US","Within the US","Outside the US","Within the US","Within the US","Within the US","Within the US","Within the US"],[null,true,false,true,true,true,false,true,null,null,null,null,false,true,false,false,false,false,false,true,true,false,true,false,true,true,true,true,false,null,true,true,false,true,true,true,false,true,null,true,true,null,null,true,true,null,false,false,false,null,true,true,true,true,true,null,true,null,null,false,false,null,false,null,null,true,false,true,true,false,null,null,false,null,true,null,true,true,true,true,true,true,null,true,true,true,true,true,false,null,null,true,false,true,true,null,true,false,true,true,true,true,null,true,true,true,false,null,true,false,false,false,false,true,false,true,null,true,true,true,null,true,null,true,null,true,null,true,true,null,true,true,true,false,true,true,null,false,true,false,true,true,false,true,true,false,true,false,false,true,true,true,false,true,null,null,null,true,true,true,null,false,true,true,true,true,false,null,false,null,false,true,false,false,true,true,true,true,true,null,null,true,true,true,true,false,true,true,null,true,true,false,false,true,true,null,true,true,true,null],[null,null,"nondiabetic",null,"prediabetic","diabetic","nondiabetic","prediabetic",null,null,"prediabetic",null,null,null,null,null,"nondiabetic","nondiabetic",null,null,null,"nondiabetic","nondiabetic","nondiabetic","prediabetic","nondiabetic","nondiabetic","prediabetic","prediabetic","prediabetic",null,"prediabetic",null,"nondiabetic",null,"diabetic","nondiabetic","nondiabetic",null,"nondiabetic","prediabetic",null,null,"nondiabetic","nondiabetic","nondiabetic",null,null,"nondiabetic",null,"nondiabetic","nondiabetic","nondiabetic",null,"nondiabetic",null,"nondiabetic",null,null,"diabetic","nondiabetic",null,null,"nondiabetic","nondiabetic","diabetic","prediabetic","diabetic","prediabetic","prediabetic",null,null,"nondiabetic",null,"nondiabetic",null,"nondiabetic","nondiabetic","diabetic","nondiabetic","nondiabetic","nondiabetic",null,"nondiabetic","nondiabetic","prediabetic","nondiabetic","nondiabetic",null,null,null,"nondiabetic",null,"nondiabetic","nondiabetic",null,"prediabetic",null,"nondiabetic","nondiabetic","nondiabetic","prediabetic",null,null,"nondiabetic","prediabetic","diabetic",null,"nondiabetic",null,"prediabetic",null,"prediabetic","nondiabetic","nondiabetic","nondiabetic",null,"nondiabetic","nondiabetic","nondiabetic",null,"prediabetic","nondiabetic",null,null,"nondiabetic",null,"nondiabetic","nondiabetic",null,"diabetic","nondiabetic","nondiabetic",null,"prediabetic","prediabetic","diabetic","nondiabetic",null,"nondiabetic","nondiabetic","prediabetic","nondiabetic",null,"nondiabetic",null,"prediabetic","nondiabetic","nondiabetic","nondiabetic","nondiabetic","prediabetic","prediabetic","prediabetic",null,null,null,"prediabetic","nondiabetic","prediabetic",null,"nondiabetic","nondiabetic","prediabetic","prediabetic",null,"nondiabetic","nondiabetic",null,null,"nondiabetic","prediabetic",null,"nondiabetic","nondiabetic","nondiabetic","nondiabetic","diabetic","nondiabetic",null,"prediabetic","nondiabetic","nondiabetic",null,null,null,"nondiabetic","nondiabetic",null,null,"nondiabetic",null,null,"nondiabetic","nondiabetic",null,"prediabetic","nondiabetic","nondiabetic",null]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>...1<\/th>\n      <th>SEQN<\/th>\n      <th>RIDAGEYR<\/th>\n      <th>RIAGENDR<\/th>\n      <th>RIDRETH1<\/th>\n      <th>DMDBORN<\/th>\n      <th>INDFMPIR<\/th>\n      <th>SDMVPSU<\/th>\n      <th>SDMVSTRA<\/th>\n      <th>WTINT2YR<\/th>\n      <th>WTMEC2YR<\/th>\n      <th>OHXDECAY<\/th>\n      <th>OHXREST<\/th>\n      <th>LBXGLU<\/th>\n      <th>WTSAF2YR<\/th>\n      <th>LBXGH<\/th>\n      <th>BMXBMI<\/th>\n      <th>Begin.Year<\/th>\n      <th>EndYear<\/th>\n      <th>age.cat<\/th>\n      <th>LBXGH.cat<\/th>\n      <th>RIDAGEYR.cat<\/th>\n      <th>LBXGLU.cat<\/th>\n      <th>BMXBMI.cat<\/th>\n      <th>INDFMPIR.cat<\/th>\n      <th>DMDBORN.cat<\/th>\n      <th>dental.caries<\/th>\n      <th>diabetes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[0,1,2,6,7,8,9,10,13,14,15,16,17,18]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>For some data, we might want to visualize things with a table instead of a plot. We can use the <code>table</code> builtin function to easily tabulate age by dental caries.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(nhanes[,<span class="fu">c</span>(<span class="st">"diabetes"</span>,<span class="st">"dental.caries"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             dental.caries
diabetes      FALSE TRUE
  diabetic      325  806
  nondiabetic  2147 6194
  prediabetic   833 2842</code></pre>
</div>
</div>
<p>However, we can also take advantage of packages written for this purpose. For instance, we can quickly make a frequency table using the <code>proc_freq</code> function in <code>flextable</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'flextable'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    compose</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_freq</span>(nhanes,<span class="st">"diabetes"</span>,<span class="st">"dental.caries"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-cf6f4d7a{}.cl-cf63b4f6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-cf63b500{font-family:'Arial';font-size:6.6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-cf68aa4c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-cf68aa56{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-cf68aa60{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-cf68aa61{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-cf68aa62{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-cf68c19e{width:1.067in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c19f{width:0.952in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1a8{width:1.279in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1a9{width:1.33in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1aa{width:1.33in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1b2{width:1.415in;background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1b3{width:1.067in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1b4{width:0.952in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1bc{width:1.279in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1bd{width:1.33in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1be{width:1.33in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1c6{width:1.415in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1c7{width:1.067in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1d0{width:0.952in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1d1{width:1.279in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1d2{width:1.33in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1d3{width:1.33in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1da{width:1.415in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1db{width:1.067in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1dc{width:0.952in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1dd{width:1.279in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1e4{width:1.33in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1e5{width:1.33in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1e6{width:1.415in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1ee{width:1.067in;background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1ef{width:0.952in;background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1f8{width:1.279in;background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c1f9{width:1.33in;background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c202{width:1.33in;background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c203{width:1.415in;background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c204{width:1.067in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c205{width:0.952in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c20c{width:1.279in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c20d{width:1.33in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c20e{width:1.33in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c20f{width:1.415in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c216{width:1.067in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c217{width:0.952in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c218{width:1.279in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c220{width:1.33in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c221{width:1.33in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf68c22a{width:1.415in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-cf6f4d7a"><thead><tr style="overflow-wrap:break-word;"><th rowspan="2" class="cl-cf68c19e"><p class="cl-cf68aa4c"><span class="cl-cf63b4f6">diabetes</span></p></th><th rowspan="2" class="cl-cf68c19f"><p class="cl-cf68aa4c"><span class="cl-cf63b4f6"></span></p></th><th colspan="4" class="cl-cf68c1a8"><p class="cl-cf68aa56"><span class="cl-cf63b4f6">dental.caries</span></p></th></tr><tr style="overflow-wrap:break-word;"><th class="cl-cf68c1bc"><p class="cl-cf68aa56"><span class="cl-cf63b4f6">FALSE</span></p></th><th class="cl-cf68c1bd"><p class="cl-cf68aa56"><span class="cl-cf63b4f6">TRUE</span></p></th><th class="cl-cf68c1be"><p class="cl-cf68aa56"><span class="cl-cf63b4f6">Missing</span></p></th><th class="cl-cf68c1c6"><p class="cl-cf68aa56"><span class="cl-cf63b4f6">Total</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td rowspan="2" class="cl-cf68c1c7"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">diabetic</span></p></td><td class="cl-cf68c1d0"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Count</span></p></td><td class="cl-cf68c1d1"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">325 (1.0%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1d2"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">806 (2.6%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1d3"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">845 (2.7%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1da"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">1,976 (6.4%)</span><span class="cl-cf63b4f6"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-cf68c1dc"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Mar. pct</span><span class="cl-cf63b500"> (1)</span></p></td><td class="cl-cf68c1dd"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">5.6% ; 16.4%</span></p></td><td class="cl-cf68c1e4"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">6.4% ; 40.8%</span></p></td><td class="cl-cf68c1e5"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">6.7% ; 42.8%</span></p></td><td class="cl-cf68c1e6"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td rowspan="2" class="cl-cf68c1c7"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">nondiabetic</span></p></td><td class="cl-cf68c1d0"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Count</span></p></td><td class="cl-cf68c1d1"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">2,147 (6.9%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1d2"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">6,194 (20.0%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1d3"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">3,452 (11.1%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1da"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">11,793 (38.0%)</span><span class="cl-cf63b4f6"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-cf68c1dc"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Mar. pct</span></p></td><td class="cl-cf68c1dd"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">36.9% ; 18.2%</span></p></td><td class="cl-cf68c1e4"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">49.3% ; 52.5%</span></p></td><td class="cl-cf68c1e5"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">27.3% ; 29.3%</span></p></td><td class="cl-cf68c1e6"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td rowspan="2" class="cl-cf68c1c7"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">prediabetic</span></p></td><td class="cl-cf68c1d0"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Count</span></p></td><td class="cl-cf68c1d1"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">833 (2.7%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1d2"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">2,842 (9.2%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1d3"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">2,438 (7.9%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1da"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">6,113 (19.7%)</span><span class="cl-cf63b4f6"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-cf68c1dc"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Mar. pct</span></p></td><td class="cl-cf68c1dd"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">14.3% ; 13.6%</span></p></td><td class="cl-cf68c1e4"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">22.6% ; 46.5%</span></p></td><td class="cl-cf68c1e5"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">19.3% ; 39.9%</span></p></td><td class="cl-cf68c1e6"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td rowspan="2" class="cl-cf68c1c7"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Missing</span></p></td><td class="cl-cf68c1d0"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Count</span></p></td><td class="cl-cf68c1d1"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">2,515 (8.1%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1d2"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">2,733 (8.8%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1d3"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">5,904 (19.0%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c1da"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">11,152 (35.9%)</span><span class="cl-cf63b4f6"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-cf68c1ef"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Mar. pct</span></p></td><td class="cl-cf68c1f8"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">43.2% ; 22.6%</span></p></td><td class="cl-cf68c1f9"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">21.7% ; 24.5%</span></p></td><td class="cl-cf68c202"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6">46.7% ; 52.9%</span></p></td><td class="cl-cf68c203"><p class="cl-cf68aa61"><span class="cl-cf63b4f6"></span><span class="cl-cf63b4f6"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-cf68c204"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Total</span></p></td><td class="cl-cf68c205"><p class="cl-cf68aa60"><span class="cl-cf63b4f6">Count</span></p></td><td class="cl-cf68c20c"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">5,820 (18.8%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c20d"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">12,575 (40.5%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c20e"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">12,639 (40.7%)</span><span class="cl-cf63b4f6"></span></p></td><td class="cl-cf68c20f"><p class="cl-cf68aa61"><span class="cl-cf63b4f6">31,034 (100.0%)</span><span class="cl-cf63b4f6"></span></p></td></tr></tbody><tfoot><tr style="overflow-wrap:break-word;"><td colspan="6" class="cl-cf68c216"><p class="cl-cf68aa62"><span class="cl-cf63b500"> (1)</span><span class="cl-cf63b4f6"> Columns and rows percentages</span></p></td></tr></tfoot></table></div>
</div>
</div>
<p>Or we can use the <code>gtsummary</code> package to summarize everything.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'gtsummary'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:flextable':

    as_flextable, continuous_summary</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(nhanes,dental.caries, BMXBMI.cat, LBXGH.cat, DMDBORN, diabetes) <span class="sc">|&gt;</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tbl_summary</span>(<span class="at">by =</span> dental.caries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>12639 observations missing `dental.caries` have been removed. To include these observations, use `forcats::fct_na_value_to_level()` on `dental.caries` column before passing to `tbl_summary()`.</code></pre>
</div>
<div class="cell-output-display">

<div id="pstsahayuq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#pstsahayuq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pstsahayuq thead, #pstsahayuq tbody, #pstsahayuq tfoot, #pstsahayuq tr, #pstsahayuq td, #pstsahayuq th {
  border-style: none;
}

#pstsahayuq p {
  margin: 0;
  padding: 0;
}

#pstsahayuq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pstsahayuq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pstsahayuq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pstsahayuq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pstsahayuq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pstsahayuq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pstsahayuq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pstsahayuq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pstsahayuq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pstsahayuq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pstsahayuq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pstsahayuq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pstsahayuq .gt_spanner_row {
  border-bottom-style: hidden;
}

#pstsahayuq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pstsahayuq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pstsahayuq .gt_from_md > :first-child {
  margin-top: 0;
}

#pstsahayuq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pstsahayuq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pstsahayuq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pstsahayuq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pstsahayuq .gt_row_group_first td {
  border-top-width: 2px;
}

#pstsahayuq .gt_row_group_first th {
  border-top-width: 2px;
}

#pstsahayuq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pstsahayuq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pstsahayuq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pstsahayuq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pstsahayuq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pstsahayuq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pstsahayuq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pstsahayuq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pstsahayuq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pstsahayuq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pstsahayuq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pstsahayuq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pstsahayuq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pstsahayuq .gt_left {
  text-align: left;
}

#pstsahayuq .gt_center {
  text-align: center;
}

#pstsahayuq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pstsahayuq .gt_font_normal {
  font-weight: normal;
}

#pstsahayuq .gt_font_bold {
  font-weight: bold;
}

#pstsahayuq .gt_font_italic {
  font-style: italic;
}

#pstsahayuq .gt_super {
  font-size: 65%;
}

#pstsahayuq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pstsahayuq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pstsahayuq .gt_indent_1 {
  text-indent: 5px;
}

#pstsahayuq .gt_indent_2 {
  text-indent: 10px;
}

#pstsahayuq .gt_indent_3 {
  text-indent: 15px;
}

#pstsahayuq .gt_indent_4 {
  text-indent: 20px;
}

#pstsahayuq .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>FALSE</strong>, N = 5,820<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>FALSE</strong>, N = 5,820<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>TRUE</strong>, N = 12,575<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>TRUE</strong>, N = 12,575<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">BMXBMI.cat</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Normal</td>
<td headers="stat_1" class="gt_row gt_center">3,812 (66%)</td>
<td headers="stat_2" class="gt_row gt_center">5,938 (48%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Obese</td>
<td headers="stat_1" class="gt_row gt_center">933 (16%)</td>
<td headers="stat_2" class="gt_row gt_center">3,219 (26%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Overweight</td>
<td headers="stat_1" class="gt_row gt_center">1,018 (18%)</td>
<td headers="stat_2" class="gt_row gt_center">3,315 (27%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="stat_1" class="gt_row gt_center">57</td>
<td headers="stat_2" class="gt_row gt_center">103</td></tr>
    <tr><td headers="label" class="gt_row gt_left">LBXGH.cat</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;&lt;5.7%</td>
<td headers="stat_1" class="gt_row gt_center">2,473 (75%)</td>
<td headers="stat_2" class="gt_row gt_center">7,337 (75%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;&gt;=5.7% and &lt;6.5%</td>
<td headers="stat_1" class="gt_row gt_center">825 (25%)</td>
<td headers="stat_2" class="gt_row gt_center">2,491 (25%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="stat_1" class="gt_row gt_center">2,522</td>
<td headers="stat_2" class="gt_row gt_center">2,747</td></tr>
    <tr><td headers="label" class="gt_row gt_left">DMDBORN</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Born Elsewhere</td>
<td headers="stat_1" class="gt_row gt_center">113 (1.9%)</td>
<td headers="stat_2" class="gt_row gt_center">367 (2.9%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Born in 50 US States or Washi</td>
<td headers="stat_1" class="gt_row gt_center">5,070 (87%)</td>
<td headers="stat_2" class="gt_row gt_center">10,307 (82%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Born in Mexico</td>
<td headers="stat_1" class="gt_row gt_center">374 (6.4%)</td>
<td headers="stat_2" class="gt_row gt_center">1,179 (9.4%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Born in Other Non-Spanish Spea</td>
<td headers="stat_1" class="gt_row gt_center">135 (2.3%)</td>
<td headers="stat_2" class="gt_row gt_center">303 (2.4%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Born in Other Spanish Speaking</td>
<td headers="stat_1" class="gt_row gt_center">125 (2.1%)</td>
<td headers="stat_2" class="gt_row gt_center">416 (3.3%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Don't Know</td>
<td headers="stat_1" class="gt_row gt_center">1 (&lt;0.1%)</td>
<td headers="stat_2" class="gt_row gt_center">0 (0%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Refused</td>
<td headers="stat_1" class="gt_row gt_center">2 (&lt;0.1%)</td>
<td headers="stat_2" class="gt_row gt_center">3 (&lt;0.1%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">diabetes</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;diabetic</td>
<td headers="stat_1" class="gt_row gt_center">325 (9.8%)</td>
<td headers="stat_2" class="gt_row gt_center">806 (8.2%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;nondiabetic</td>
<td headers="stat_1" class="gt_row gt_center">2,147 (65%)</td>
<td headers="stat_2" class="gt_row gt_center">6,194 (63%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;prediabetic</td>
<td headers="stat_1" class="gt_row gt_center">833 (25%)</td>
<td headers="stat_2" class="gt_row gt_center">2,842 (29%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="stat_1" class="gt_row gt_center">2,515</td>
<td headers="stat_2" class="gt_row gt_center">2,733</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="3"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="visualizing-data" class="level1">
<h1>Visualizing Data</h1>
<section id="first-steps-with-ggplot2" class="level2">
<h2 data-anchor-id="first-steps-with-ggplot2">First steps with ggplot2</h2>
<p>You can find a <a href="https://rstudio.github.io/cheatsheets/data-visualization.pdf">ggplot2 cheatsheet here</a>.</p>
<p><strong>ggplot2</strong> is the most popular data visualisation R package. Its <code>ggplot()</code> function is at the core of this package, and this whole approach is colloquially known as <em>“ggplot”</em> with the resulting figures sometimes affectionately called “ggplots”. The “gg” in these names reflects the “<strong>g</strong>rammar of <strong>g</strong>raphics” used to construct the figures. <strong>ggplot2</strong> benefits from a wide variety of supplementary R packages that further enhance its functionality.</p>
<p>The <a href="https://github.com/rstudio/cheatsheets/raw/master/data-visualization-2.1.pdf">data visualization with ggplot cheatsheet</a> from the RStudio website is a great reference to have on-hand when creating pltos. If you want inspiration for ways to creatively visualise your data, we suggest reviewing websites like the <a href="https://www.r-graph-gallery.com/">R graph gallery</a> and <a href="https://www.data-to-viz.com/caveats.html">Data-to-viz</a>.</p>
<p>We can summarize the ggplot approach as:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="sc">&lt;</span>DATA<span class="sc">&gt;</span>, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="sc">&lt;</span>MAPPINGS<span class="sc">&gt;</span>)) <span class="sc">+</span>  <span class="er">&lt;</span>GEOM_FUNCTION<span class="sc">&gt;</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Where we define a dataset, choose which variables map to which aspects of the plot, and then choose the <code>geom()</code> or type of plot to draw.</p>
<p>Let’s plug the NHANES dataset into a plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Since we haven’t told <code>ggplot</code> what we want to display, we just get a blank plot. If we add some mappings for the x and y axes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> LBXGH, <span class="at">y =</span> LBXGLU))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We now get labeled axes and scales based on the variable range. Finally, we can add a <code>geom()</code>. Let’s make a scatterplot, created with <code>geom_point()</code> in ggplot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> LBXGH, <span class="at">y =</span> LBXGLU)) <span class="sc">+</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 21442 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>For large datasets, scatterplots start to become less useful and can be computationally intensive. Instead, let’s try the <code>geom_hex</code> to plot density.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> LBXGH, <span class="at">y =</span> LBXGLU)) <span class="sc">+</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hex</span>(<span class="at">bins =</span> <span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 21442 rows containing non-finite values (`stat_binhex()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now, let’s make a boxplot showing how BMI varies by subject ethnicity. Inside of the <code>geom_boxplot</code> function, we’ll also set the <code>varwidth</code> parameter to true so that the box sizes vary with how many samples are in each category.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> RIDRETH1, <span class="at">y =</span> BMXBMI)) <span class="sc">+</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">varwidth =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3812 rows containing non-finite values (`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout callout-style-simple callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise
</div>
</div>
<div class="callout-body-container callout-body">
<p>Instead of a boxplot, try making a violin plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Violin plot</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> RIDRETH1, <span class="at">y =</span> BMXBMI)) <span class="sc">+</span> </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3812 rows containing non-finite values (`stat_ydensity()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
<p>Note that we can also easily make boxplots using R’s builtin plotting <code>boxplot</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(BMXBMI <span class="sc">~</span> RIDRETH1, <span class="at">data =</span> nhanes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="mapping-variables" class="level2">
<h2 data-anchor-id="mapping-variables">Mapping Variables</h2>
<p>Beyond the actual axes we can use mappings to encode variables as various aspects of a plot. Some of the most commonly used other mapping types are <code>shape</code>, <code>fill</code>, <code>color</code>, <code>size</code>, and <code>linetype</code>.</p>
<p>For instance, let’s take our scatterplot from before and color the points by diabetic status.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> LBXGH, <span class="at">y =</span> BMXBMI, <span class="at">color =</span> diabetes)) <span class="sc">+</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 11441 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It is difficult to tell how many diabetic participants are in this plot, as it’s possible that the red diabetic points have been covered by the blue and green points. We can alter the transparency of the points by changing <code>alpha</code>. Remember we can also change parts of the plot outside of <code>aes()</code> to have them not depend on any variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> LBXGH, <span class="at">y =</span> BMXBMI, <span class="at">color =</span> diabetes)) <span class="sc">+</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 11441 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can also have a single variable encoded into multiple parts of the plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> LBXGH, <span class="at">y =</span> BMXBMI, <span class="at">color =</span> diabetes, <span class="at">shape =</span> diabetes)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 11441 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It’s still hard to tell. Let’s instead make a facet grid to separate out the distributions and drop the NA values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>nhanes <span class="sc">|&gt;</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(diabetes)) <span class="sc">|&gt;</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> LBXGH, <span class="at">y =</span> BMXBMI, <span class="at">color =</span> diabetes)) <span class="sc">+</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>diabetes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 289 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="customizing-plots" class="level2">
<h2 data-anchor-id="customizing-plots">Customizing Plots</h2>
<p>Taking a figure all the way to publication-quality can require careful fine tuning. ggplot has a variety of useful themes and other ways to improve a figure’s appearance and readability.</p>
<p>Here’s an example of some of what you can do. Note that changing the <code>fig.width</code> setting for the code block will not effect how the image looks when exported.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Maybe we want a color scheme from a Wes Anderson movie:</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wesanderson)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Note that this font import can take multiple minutes to run</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">wes_palette</span>(<span class="st">"Zissou1"</span>, <span class="dv">2</span>, <span class="at">type =</span> <span class="st">"continuous"</span>)</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> RIDRETH1, <span class="at">y =</span> BMXBMI, <span class="at">fill =</span> dental.caries)) <span class="sc">+</span> </span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggtitle</span>(<span class="st">"BMI by ethicity and dental caries"</span>) <span class="sc">+</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a> <span class="fu">xlab</span>(<span class="st">"Ethnicity"</span>) <span class="sc">+</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a> <span class="fu">ylab</span>(<span class="st">"BMI"</span>) <span class="sc">+</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> pal, <span class="at">name =</span> <span class="st">"Dental Caries"</span>) <span class="sc">+</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>), <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3812 rows containing non-finite values (`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="interactive-plots-and-widgets" class="level2">
<h2 data-anchor-id="interactive-plots-and-widgets">Interactive plots and widgets</h2>
<p>We can use plotly to add basic interactivity to plots.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'plotly'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:flextable':

    highlight, style</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    last_plot</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    filter</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:graphics':

    layout</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> BMXBMI, <span class="at">fill =</span> RIAGENDR)) <span class="sc">+</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">position =</span> <span class="st">"stack"</span>) </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3812 rows containing non-finite values (`stat_bin()`).</code></pre>
</div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9b15894b6af21bf85fd8" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-9b15894b6af21bf85fd8">{"x":{"data":[{"orientation":"v","width":[4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931171,4.0851724137931029,4.0851724137931171,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137931171,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887],"base":[207,2553,2200,3012,2833,1533,616,303,126,49,23,13,3,6,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,1],"x":[12.255517241379312,16.340689655172415,20.425862068965522,24.511034482758625,28.596206896551728,32.68137931034483,36.766551724137933,40.851724137931036,44.936896551724139,49.022068965517242,53.107241379310345,57.192413793103455,61.277586206896558,65.362758620689661,69.447931034482764,73.533103448275881,77.61827586206897,81.703448275862087,85.788620689655176,89.873793103448293,93.958965517241381,98.044137931034498,102.12931034482759,106.2144827586207,110.29965517241382,114.38482758620691,118.47000000000003,122.55517241379312,126.64034482758623,130.72551724137932],"y":[250,2334,2575,2799,2321,1596,954,468,215,124,50,28,8,10,4,3,1,1,1,0,0,0,0,0,0,0,0,0,0,0],"text":["count:  250<br />BMXBMI:  12.25552<br />RIAGENDR: Female","count: 2334<br />BMXBMI:  16.34069<br />RIAGENDR: Female","count: 2575<br />BMXBMI:  20.42586<br />RIAGENDR: Female","count: 2799<br />BMXBMI:  24.51103<br />RIAGENDR: Female","count: 2321<br />BMXBMI:  28.59621<br />RIAGENDR: Female","count: 1596<br />BMXBMI:  32.68138<br />RIAGENDR: Female","count:  954<br />BMXBMI:  36.76655<br />RIAGENDR: Female","count:  468<br />BMXBMI:  40.85172<br />RIAGENDR: Female","count:  215<br />BMXBMI:  44.93690<br />RIAGENDR: Female","count:  124<br />BMXBMI:  49.02207<br />RIAGENDR: Female","count:   50<br />BMXBMI:  53.10724<br />RIAGENDR: Female","count:   28<br />BMXBMI:  57.19241<br />RIAGENDR: Female","count:    8<br />BMXBMI:  61.27759<br />RIAGENDR: Female","count:   10<br />BMXBMI:  65.36276<br />RIAGENDR: Female","count:    4<br />BMXBMI:  69.44793<br />RIAGENDR: Female","count:    3<br />BMXBMI:  73.53310<br />RIAGENDR: Female","count:    1<br />BMXBMI:  77.61828<br />RIAGENDR: Female","count:    1<br />BMXBMI:  81.70345<br />RIAGENDR: Female","count:    1<br />BMXBMI:  85.78862<br />RIAGENDR: Female","count:    0<br />BMXBMI:  89.87379<br />RIAGENDR: Female","count:    0<br />BMXBMI:  93.95897<br />RIAGENDR: Female","count:    0<br />BMXBMI:  98.04414<br />RIAGENDR: Female","count:    0<br />BMXBMI: 102.12931<br />RIAGENDR: Female","count:    0<br />BMXBMI: 106.21448<br />RIAGENDR: Female","count:    0<br />BMXBMI: 110.29966<br />RIAGENDR: Female","count:    0<br />BMXBMI: 114.38483<br />RIAGENDR: Female","count:    0<br />BMXBMI: 118.47000<br />RIAGENDR: Female","count:    0<br />BMXBMI: 122.55517<br />RIAGENDR: Female","count:    0<br />BMXBMI: 126.64034<br />RIAGENDR: Female","count:    0<br />BMXBMI: 130.72552<br />RIAGENDR: Female"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Female","legendgroup":"Female","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931029,4.0851724137931171,4.0851724137931029,4.0851724137931171,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137931171,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887,4.0851724137930887],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[12.255517241379312,16.340689655172415,20.425862068965522,24.511034482758625,28.596206896551728,32.68137931034483,36.766551724137933,40.851724137931036,44.936896551724139,49.022068965517242,53.107241379310345,57.192413793103455,61.277586206896558,65.362758620689661,69.447931034482764,73.533103448275881,77.61827586206897,81.703448275862087,85.788620689655176,89.873793103448293,93.958965517241381,98.044137931034498,102.12931034482759,106.2144827586207,110.29965517241382,114.38482758620691,118.47000000000003,122.55517241379312,126.64034482758623,130.72551724137932],"y":[207,2553,2200,3012,2833,1533,616,303,126,49,23,13,3,6,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,1],"text":["count:  207<br />BMXBMI:  12.25552<br />RIAGENDR: Male","count: 2553<br />BMXBMI:  16.34069<br />RIAGENDR: Male","count: 2200<br />BMXBMI:  20.42586<br />RIAGENDR: Male","count: 3012<br />BMXBMI:  24.51103<br />RIAGENDR: Male","count: 2833<br />BMXBMI:  28.59621<br />RIAGENDR: Male","count: 1533<br />BMXBMI:  32.68138<br />RIAGENDR: Male","count:  616<br />BMXBMI:  36.76655<br />RIAGENDR: Male","count:  303<br />BMXBMI:  40.85172<br />RIAGENDR: Male","count:  126<br />BMXBMI:  44.93690<br />RIAGENDR: Male","count:   49<br />BMXBMI:  49.02207<br />RIAGENDR: Male","count:   23<br />BMXBMI:  53.10724<br />RIAGENDR: Male","count:   13<br />BMXBMI:  57.19241<br />RIAGENDR: Male","count:    3<br />BMXBMI:  61.27759<br />RIAGENDR: Male","count:    6<br />BMXBMI:  65.36276<br />RIAGENDR: Male","count:    0<br />BMXBMI:  69.44793<br />RIAGENDR: Male","count:    2<br />BMXBMI:  73.53310<br />RIAGENDR: Male","count:    0<br />BMXBMI:  77.61828<br />RIAGENDR: Male","count:    0<br />BMXBMI:  81.70345<br />RIAGENDR: Male","count:    0<br />BMXBMI:  85.78862<br />RIAGENDR: Male","count:    0<br />BMXBMI:  89.87379<br />RIAGENDR: Male","count:    0<br />BMXBMI:  93.95897<br />RIAGENDR: Male","count:    0<br />BMXBMI:  98.04414<br />RIAGENDR: Male","count:    0<br />BMXBMI: 102.12931<br />RIAGENDR: Male","count:    0<br />BMXBMI: 106.21448<br />RIAGENDR: Male","count:    0<br />BMXBMI: 110.29966<br />RIAGENDR: Male","count:    0<br />BMXBMI: 114.38483<br />RIAGENDR: Male","count:    0<br />BMXBMI: 118.47000<br />RIAGENDR: Male","count:    0<br />BMXBMI: 122.55517<br />RIAGENDR: Male","count:    0<br />BMXBMI: 126.64034<br />RIAGENDR: Male","count:    1<br />BMXBMI: 130.72552<br />RIAGENDR: Male"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Male","legendgroup":"Male","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":48.949771689497723},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[4.0851724137931056,138.89586206896553],"tickmode":"array","ticktext":["50","100"],"tickvals":[50,100],"categoryorder":"array","categoryarray":["50","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"BMXBMI","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-290.55000000000001,6101.5500000000002],"tickmode":"array","ticktext":["0","2000","4000","6000"],"tickvals":[0,2000.0000000000002,4000,6000],"categoryorder":"array","categoryarray":["0","2000","4000","6000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"count","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"RIAGENDR","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"77e0b7234db":{"x":{},"fill":{},"type":"bar"}},"cur_data":"77e0b7234db","visdat":{"77e0b7234db":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>And we can create more complex interactive plots using the <strong>shiny</strong> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">selectInput</span>(</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'breaks'</span>, <span class="at">label =</span> <span class="st">'Number of bins:'</span>,</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">choices =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">50</span>), <span class="at">selected =</span> <span class="dv">20</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="fu">renderPlot</span>({</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(nhanes, <span class="fu">aes</span>(<span class="at">x =</span> BMXBMI, <span class="at">fill =</span> RIAGENDR)) <span class="sc">+</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">position =</span> <span class="st">"stack"</span>, <span class="at">bins =</span> <span class="fu">as.numeric</span>(input<span class="sc">$</span>breaks)) </span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is just scratching the surface of interactive plots. You can find examples of creating full interactive dashboards in <a href="https://epirhandbook.com/en/dashboards-with-r-markdown.html">The Epidemiologist R Handbook</a>.</p>
</section>
<section id="creating-maps-and-using-shape-files" class="level2">
<h2 data-anchor-id="creating-maps-and-using-shape-files">Creating maps and using shape files</h2>
<p>As with everything else, there are a variety of ways to create maps in R. Let’s look at 2 examples, creating simple maps with the <code>maps</code> package and importing a shapefile using the <code>sf</code> package.</p>
<p>For simple information we want to see on a standard map, we can use the <code>maps</code> package. For instance, we can grab a map of the USA and plot some coordinates.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'maps'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    map</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>The legacy packages maptools, rgdal, and rgeos, underpinning the sp package,
which was just loaded, will retire in October 2023.
Please refer to R-spatial evolution reports for details, especially
https://r-spatial.org/r/2023/05/15/evolution4.html.
It may be desirable to make the sf package available;
package maintainers should consider adding sf to Suggests:.
The sp package is now running under evolution status 2
     (status 2 uses the sf package in place of rgdal)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Google's Terms of Service: &lt;https://mapsplatform.google.com&gt;
ℹ Please cite ggmap if you use it! Use `citation("ggmap")` for details.

Attaching package: 'ggmap'


The following object is masked from 'package:plotly':

    wind</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tmap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Breaking News: tmap 3.x is retiring. Please test v4, e.g. with
remotes::install_github('r-tmap/tmap')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>usa <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">"usa"</span>) </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>labs <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">long =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">122.064873</span>, <span class="sc">-</span><span class="fl">122.306417</span>),</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">lat =</span> <span class="fu">c</span>(<span class="fl">36.951968</span>, <span class="fl">47.644855</span>),</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"SWFSC-FED"</span>, <span class="st">"NWFSC"</span>),</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>  )  </span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> usa, <span class="fu">aes</span>(<span class="at">x=</span>long, <span class="at">y =</span> lat, <span class="at">group =</span> group), <span class="at">fill =</span> <span class="st">"coral"</span>, <span class="at">color =</span> <span class="st">"brown"</span>) <span class="sc">+</span> </span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="fl">1.3</span>) <span class="sc">+</span></span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> labs, <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> labs, <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat), <span class="at">color =</span> <span class="st">"gold"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Or we can get data for states</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">"state"</span>)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(states)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       long      lat group order  region subregion
1 -87.46201 30.38968     1     1 alabama      &lt;NA&gt;
2 -87.48493 30.37249     1     2 alabama      &lt;NA&gt;
3 -87.52503 30.37249     1     3 alabama      &lt;NA&gt;
4 -87.53076 30.33239     1     4 alabama      &lt;NA&gt;
5 -87.57087 30.32665     1     5 alabama      &lt;NA&gt;
6 -87.58806 30.32665     1     6 alabama      &lt;NA&gt;</code></pre>
</div>
</div>
<p>And then grab and plot just new england.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>new_england <span class="ot">&lt;-</span> <span class="fu">subset</span>(states, region <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'connecticut'</span>, <span class="st">'maine'</span>, <span class="st">'massachusetts'</span>, <span class="st">'new hampshire'</span>, <span class="st">'rhode island'</span>, <span class="st">'vermont'</span>))</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> new_england) <span class="sc">+</span> </span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group), <span class="at">fill =</span> <span class="st">"palegreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="fl">1.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Let’s zoom in and plot population density by county in CT.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>ct_df <span class="ot">&lt;-</span> <span class="fu">subset</span>(states, region <span class="sc">==</span> <span class="st">"connecticut"</span>)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>counties <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">"county"</span>)</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>ct_county <span class="ot">&lt;-</span> <span class="fu">subset</span>(counties, region <span class="sc">==</span> <span class="st">"connecticut"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We start by plotting just the state boundaries. Let’s get rid of the background gridlines too.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>ct_base <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> ct_df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group)) <span class="sc">+</span> </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="fl">1.3</span>) <span class="sc">+</span> </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"gray"</span>)</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>ct_base <span class="sc">+</span> <span class="fu">theme_nothing</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now we can add the county borders in white.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>ct_base <span class="sc">+</span> <span class="fu">theme_nothing</span>() <span class="sc">+</span> </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> ct_county, <span class="at">color =</span> <span class="st">"white"</span>, <span class="fu">aes</span>(<span class="at">fill =</span> subregion))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Linking to GEOS 3.11.2, GDAL 3.6.2, PROJ 9.2.0; sf_use_s2() is TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"../data/linelist_cleaned.rds"</span>)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="co"># generate 1000 random row numbers, from the number of rows in linelist</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>sample_rows <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(linelist), <span class="dv">1000</span>)</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="co"># subset linelist to keep only the sample rows, and all columns</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>linelist <span class="ot">&lt;-</span> linelist[sample_rows,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We use the package <code>sf</code> (spatial features) and its function <code>st_as_sf()</code> to create the new object we call <code>linelist_sf</code>. This new object looks essentially the same as the <code>linelist</code>, but the columns <code>lon</code> and <code>lat</code> have been designated as coordinate columns, and a coordinate reference system (CRS) has been assigned for when the points are displayed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>linelist_sf <span class="ot">&lt;-</span> linelist <span class="sc">|&gt;</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>     sf<span class="sc">::</span><span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"lon"</span>, <span class="st">"lat"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(linelist_sf, <span class="dv">10</span>), <span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">scrollX=</span>T), <span class="at">class =</span> <span class="st">'white-space: nowrap'</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c8e75eb1d655bf2f0d01" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c8e75eb1d655bf2f0d01">{"x":{"filter":"none","vertical":false,"data":[["ac574f","633a6e","bf302f","4b03da","aae55a","33b030","5b98ea","611f69","a7f48b","1511c5"],[21,18,14,23,21,26,16,12,12,5],[null,null,"2014-09-01",null,"2014-09-23","2015-02-05",null,null,"2014-08-15","2014-05-15"],["2014-12-26","2014-12-22","2014-09-08","2014-12-29","2014-09-28","2015-02-28","2014-11-12","2014-09-12","2014-09-12","2014-05-23"],["2014-12-27","2014-12-26","2014-09-18","2015-01-01","2014-09-29","2015-03-01","2014-11-13","2014-09-18","2014-09-14","2014-06-02"],["2015-01-11","2015-01-01","2014-09-27","2015-01-01","2014-10-03",null,"2014-11-22","2014-09-24","2014-09-20","2014-06-13"],["Recover","Death","Recover","Recover",null,null,"Death","Recover","Death","Recover"],["m","f","m","f","m",null,"m","m","m","f"],[10,5,14,6,36,1,12,25,33,14],["years","years","years","years","years","years","years","years","years","years"],[10,5,14,6,36,1,12,25,33,14],["10-14","5-9","10-14","5-9","30-49","0-4","10-14","20-29","30-49","10-14"],["10-14","5-9","10-14","5-9","35-39","0-4","10-14","25-29","30-34","10-14"],["Missing","Central Hospital","Central Hospital","St. Mark's Maternity Hospital (SMMH)","Central Hospital","Military Hospital","Other","Other","Port Hospital","Missing"],[null,null,"26240e",null,"72cbb4","c98936",null,null,"f13395","c29eb5"],[null,null,"other",null,"other","other",null,null,"other","other"],[48,40,64,39,81,10,60,68,69,52],[134,87,156,114,189,36,144,164,175,147],[23,21,17,18,21,22,22,19,23,19],["yes","yes","yes","yes","yes","no","no","yes","yes","yes"],["no","yes","no","no","no","yes","yes","yes","no","no"],["yes","yes","yes","yes","no","yes","yes","no","yes","yes"],["no","no","no","yes","no","no","no","no","no","no"],["no","yes","yes","yes","no","no","no","yes","yes","no"],[38.3,39.7,39,38.6,39.6,36.7,36.3,39,38.7,39.1],["14:13",null,"13:23","20:25","14:18",null,"21:15","12:31","08:42","12:11"],[26.73201158387168,52.84713964856652,26.29848783694937,30.00923361034165,22.67573696145125,77.16049382716049,28.93518518518519,25.28256989886972,22.53061224489796,24.06404738766255],[1,4,10,3,1,1,1,6,2,10],[{"type":"Point","coordinates":[-13.2346005516966,8.48047143703093]},{"type":"Point","coordinates":[-13.268344887093,8.458496346702869]},{"type":"Point","coordinates":[-13.2355638396343,8.47084379106404]},{"type":"Point","coordinates":[-13.2467194630549,8.469123694669481]},{"type":"Point","coordinates":[-13.2277194066769,8.477175392440479]},{"type":"Point","coordinates":[-13.2155386305545,8.487472887060109]},{"type":"Point","coordinates":[-13.2364336940409,8.478005519368249]},{"type":"Point","coordinates":[-13.2328139673377,8.460866764206401]},{"type":"Point","coordinates":[-13.2529690061865,8.462088738621841]},{"type":"Point","coordinates":[-13.2288326440567,8.47003087379739]}]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>case_id<\/th>\n      <th>generation<\/th>\n      <th>date_infection<\/th>\n      <th>date_onset<\/th>\n      <th>date_hospitalisation<\/th>\n      <th>date_outcome<\/th>\n      <th>outcome<\/th>\n      <th>gender<\/th>\n      <th>age<\/th>\n      <th>age_unit<\/th>\n      <th>age_years<\/th>\n      <th>age_cat<\/th>\n      <th>age_cat5<\/th>\n      <th>hospital<\/th>\n      <th>infector<\/th>\n      <th>source<\/th>\n      <th>wt_kg<\/th>\n      <th>ht_cm<\/th>\n      <th>ct_blood<\/th>\n      <th>fever<\/th>\n      <th>chills<\/th>\n      <th>cough<\/th>\n      <th>aches<\/th>\n      <th>vomit<\/th>\n      <th>temp<\/th>\n      <th>time_admission<\/th>\n      <th>bmi<\/th>\n      <th>days_onset_hosp<\/th>\n      <th>geometry<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,8,10,16,17,18,24,26,27]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>sle_adm3_raw <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"../data/gis/sle_adm3.shp"</span>)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ADM3 level clean</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>sle_adm3 <span class="ot">&lt;-</span> sle_adm3_raw <span class="sc">|&gt;</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> <span class="co"># standardize column names</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(admin2name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Western Area Urban"</span>, <span class="st">"Western Area Rural"</span>)) <span class="co"># filter to keep certain areas</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The package <code>tmap</code> offers simple mapping capabilities for both static (“plot” mode) and interactive (“view” mode) with just a few lines of code. We can plot the distribution of ebola cases using <code>tmap</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>) <span class="co"># choose either "view" or "plot"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>tmap mode set to plotting</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(linelist_sf) <span class="sc">+</span> <span class="fu">tm_dots</span>(<span class="at">size=</span><span class="fl">0.08</span>, <span class="at">col=</span><span class="st">'blue'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This is not very useful without the administrative border data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>) <span class="co"># choose either "view" or "plot"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>tmap mode set to plotting</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sle_adm3,               <span class="co"># admin boundaries shapefile</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">bbox =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">13.3</span>, <span class="fl">8.43</span>,  <span class="co"># corner</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>                  <span class="sc">-</span><span class="fl">13.2</span>, <span class="fl">8.51</span>)) <span class="sc">+</span>   <span class="co"># corner</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">col =</span> <span class="st">"#F7F7F7"</span>)<span class="sc">+</span>    <span class="co"># show polygons in light grey</span></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"#000000"</span>,      <span class="co"># show borders with color and line weight</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">lwd =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_text</span>(<span class="st">"admin3name"</span>)   <span class="sc">+</span>         <span class="co"># column text to display for each polygon</span></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>(linelist_sf) <span class="sc">+</span></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_dots</span>(<span class="at">size=</span><span class="fl">0.08</span>, <span class="at">col=</span><span class="st">'blue'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">title =</span> <span class="st">"Distribution of Ebola cases"</span>)   <span class="co"># give title to map</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One tm layer group has duplicated layer types, which are omitted. To
draw multiple layers of the same type, use multiple layer groups (i.e. specify
tm_shape prior to each of them).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="session2_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>John A. Graves has a great example analysis in R using the Dartmouth atlas data to examine different definitions of health care markets which you can find <a href="https://github.com/graveja0/health-care-markets">here</a>.</p>
</section>
<section id="exporting-plots" class="level2">
<h2 data-anchor-id="exporting-plots">Exporting plots</h2>
<p>Exporting ggplots is made easy with the <code>ggsave()</code> function from <strong>ggplot2</strong>. It can work in two ways, either:</p>
<ul>
<li>Specify the name of the plot object, then the file path and name with extension
<ul>
<li>For example: <code>ggsave(my_plot, "plots/my_plot.png"))</code><br>
</li>
</ul></li>
<li>Run the command with only a file path, to save the last plot that was printed
<ul>
<li>For example: <code>ggsave("plots/my_plot.png"))</code></li>
</ul></li>
</ul>
<p>You can export as png, pdf, jpeg, tiff, bmp, svg, or several other file types, by specifying the file extension in the file path.</p>
<p>You can also specify the arguments <code>width =</code>, <code>height =</code>, and <code>units =</code> (either “in”, “cm”, or “mm”). You can also specify <code>dpi =</code> with a number for plot resolution (e.g.&nbsp;300). See the function details by entering <code>?ggsave</code> or reading the <a href="https://ggplot2.tidyverse.org/reference/ggsave.html">documentation online</a>.</p>
<hr>
<p><em>The materials in this lesson have been adapted from work created by the (HBC)](http://bioinformatics.sph.harvard.edu/) and Data Carpentry (http://datacarpentry.org/), as well as materials created by Laurent Gatto, Charlotte Soneson, Jenny Drnevich, Robert Castelo, and Kevin Rue-Albert. These are open access materials distributed under the terms of the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution license</a> (CC BY 4.0), which permits unrestricted use, distribution, and reproduction in any medium, provided the original author and source are credited.</em></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>